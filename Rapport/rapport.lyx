#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass report
\begin_preamble
\usepackage{graphicx}
\graphicspath{{Images/}}

 \usepackage[utf8]{inputenc}  
\usepackage{graphicx}
\include{environnements}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
% Packages Déco
\usepackage[svgnames]{xcolor}
\usepackage{fancyhdr}

% Packages d'environnements
\usepackage{framed}
\usepackage{tcolorbox}
\usepackage{tikz}
\usetikzlibrary{calc,decorations.pathreplacing}
\usepackage{tabularx}

\usepackage{algorithm}
\usepackage{algorithmic}
%%% francisation des algorithmes
\renewcommand{\algorithmicrequire} {\textbf{\textsc{Entrées:}}}
\renewcommand{\algorithmicensure}  {\textbf{\textsc{Sorties:}}}
\renewcommand{\algorithmicwhile}   {\textbf{Tantque}}
\renewcommand{\algorithmicdo}      {\textbf{faire}}
\renewcommand{\algorithmicendwhile}{\textbf{Fintantque}}
\renewcommand{\algorithmicend}     {\textbf{Fin}}
\renewcommand{\algorithmicif}      {\textbf{Si}}
\renewcommand{\algorithmicendif}   {\textbf{Finsi}}
\renewcommand{\algorithmicelse}    {\textbf{sinon}}
\renewcommand{\algorithmicthen}    {\textbf{alors}}
\renewcommand{\algorithmicfor}     {\textbf{Pour}}
\renewcommand{\algorithmicforall}  {\textbf{Pour tout}}
\renewcommand{\algorithmicdo}      {\textbf{faire}}
\renewcommand{\algorithmicendfor}  {\textbf{Finpour}}
\renewcommand{\algorithmicloop}    {\textbf{boucler}}
\renewcommand{\algorithmicendloop} {\textbf{Finboucle}}
\renewcommand{\algorithmicrepeat}  {\textbf{Répéter}}
\renewcommand{\algorithmicuntil}   {\textbf{Jusqu'à}}

\floatname{algorithm}{Algorithme}

\let\mylistof\listof
\renewcommand\listof[2]{\mylistof{algorithm}{Liste des algorithmes}}

% pour palier au problème de niveau des algos
\makeatletter
\providecommand*{\toclevel@algorithm}{0}
\makeatother

%\listofalgorithms % pour lister les algos (après la toc)
\usepackage{rotating}
\usepackage{framed}
\usepackage{tcolorbox}
\usepackage{tikz}
\usetikzlibrary{calc,decorations.pathreplacing}
\usepackage{tabularx}
\usepackage{listingsutf8}
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language french
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref false
\pdf_pdfusetitle true
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\topmargin 2cm
\rightmargin 2cm
\bottommargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language french
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset Preview

\begin_layout Standard
\begin_inset Preview

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{titlepage}
\end_layout

\begin_layout Plain Layout

  
\backslash
begin{sffamily} 
\end_layout

\begin_layout Plain Layout


\backslash
includegraphics[scale=0.1]{logo.jpg}
\backslash

\backslash
[1.5cm]
\end_layout

\begin_layout Plain Layout

  
\backslash
begin{center}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    
\backslash
includegraphics[scale=1.2]{insa.jpg}
\backslash

\backslash
[1.5cm]
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    
\backslash
textsc{
\backslash
Large Projet de Recherche Opérationnelle}
\backslash

\backslash
[1.5cm]
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    
\backslash
HRule 
\backslash

\backslash
[0.4cm]
\end_layout

\begin_layout Plain Layout

    { 
\backslash
huge 
\backslash
bfseries Composition musicale par réseau de neurones 
\backslash

\backslash
[0.4cm] }
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    
\backslash
HRule 
\backslash

\backslash
[1.5cm]
\end_layout

\begin_layout Plain Layout

    
\backslash
begin{minipage}{0.4
\backslash
textwidth}
\end_layout

\begin_layout Plain Layout

      
\backslash
begin{flushleft} 
\backslash
large
\end_layout

\begin_layout Plain Layout

	  DRIGUEZ CLAIRE 
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

      CATELAIN Jeremy 
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

      RAMAGE Lucas
\backslash

\backslash

\end_layout

\begin_layout Plain Layout

      GM4 
\end_layout

\begin_layout Plain Layout

      
\backslash
end{flushleft}
\end_layout

\begin_layout Plain Layout

    
\backslash
end{minipage}
\end_layout

\begin_layout Plain Layout

    
\backslash
begin{minipage}{0.4
\backslash
textwidth}
\end_layout

\begin_layout Plain Layout

      
\backslash
begin{flushright} 
\backslash
large
\end_layout

\begin_layout Plain Layout

        
\backslash
emph{Tuteur :} M.
 
\backslash
textsc{Knippel}
\end_layout

\begin_layout Plain Layout

      
\backslash
end{flushright}
\end_layout

\begin_layout Plain Layout

    
\backslash
end{minipage}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

    
\backslash
vfill
\end_layout

\begin_layout Plain Layout

    {
\backslash
large Octobre - Décembre 2017}
\end_layout

\begin_layout Plain Layout

  
\backslash
end{center}
\end_layout

\begin_layout Plain Layout

  
\backslash
end{sffamily}
\end_layout

\begin_layout Plain Layout


\backslash
end{titlepage}
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout


\backslash
pagebreak
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter*
Introduction
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{chapter}{
\backslash
protect
\backslash
numberline{}Introduction}
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Réseau de neurones et apprentissage
\end_layout

\begin_layout Section
Réseau de neurones
\end_layout

\begin_layout Subsection
Le neurone, un modèle spécifique
\end_layout

\begin_layout Standard
Un neurone est un mécanisme possédant une entrée, une unité de Processing
 et une sortie.
 C'est une fonction paramétrée non linéaire à valeurs bornées.
\end_layout

\begin_layout Standard
Les variables sur lesquelles opère le neurone sont appelées les entrées
 du neurone et la valeur de la fonction est désignée comme la sortie de
 la fonction.
 Ci-dessous est représenté un neurone représentant une fonction non linéaire
 paramétrée bornée 
\begin_inset Formula $y=f(x,w)$
\end_inset

 avec x les variables et w les paramètres.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/neurone schВma.PNG
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modélisation d'un neurone
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
L'entrée 
\end_layout

\begin_layout Standard
du neurone calcule la véritable variable d'entrée de l'unité de Processing
 en effectuant la somme des variables envoyées au mécanisme.
 Chaque variable envoyée au mécanisme est le produit entre une variable
 propre à un neurone précédent 
\begin_inset Formula $x_{i}$
\end_inset

 et son paramètre 
\begin_inset Formula $w_{i}$
\end_inset

 appelé le poids.
\end_layout

\begin_layout Standard
La valeur résultante peut alors être appelé le 
\begin_inset Quotes fld
\end_inset

potentiel
\begin_inset Quotes frd
\end_inset

 
\begin_inset Formula $v$
\end_inset

 tel que 
\begin_inset Formula $v={\displaystyle \sum_{i\in I}}w_{i}x_{i}+w_{0}$
\end_inset

 avec 
\begin_inset Formula $w_{0}$
\end_inset

 appelé le biais ou seuil d'activation.
 Le seuil d'activation est propre à chaque neurone.
 Le biais 
\begin_inset Formula $w_{0}$
\end_inset

 peut être considéré comme un neurone avec comme variable 
\begin_inset Formula $x_{0}=1.$
\end_inset


\end_layout

\begin_layout Paragraph
L'unité de Processing 
\end_layout

\begin_layout Standard
comporte une fonction d'activation 
\begin_inset Formula $f$
\end_inset

 et un poids 
\begin_inset Formula $w'_{i}$
\end_inset

.
 Le processus consiste à appliquer cette fonction d'activation à la variable
 
\begin_inset Formula $v$
\end_inset

 et à considérer la valeur de sortie spécifique dépendant de la nature de
 
\begin_inset Formula $f$
\end_inset

 uniquement si le potentiel 
\begin_inset Formula $v$
\end_inset

 est supérieur au seuil d'activation.
 Si c'est le cas, la valeur résultante est alors le produit entre le résultat
 de 
\begin_inset Formula $f$
\end_inset

 appliquée à 
\begin_inset Formula $v$
\end_inset

 et le poids 
\begin_inset Formula $w'_{i}$
\end_inset

 propre au neurone 
\begin_inset Formula $i$
\end_inset

 en question.
 Soit 
\begin_inset Formula $s$
\end_inset

 la sortie tel que: 
\begin_inset Formula $s=f(v)\cdot w'_{i}$
\end_inset

.
\end_layout

\begin_layout Paragraph
La sortie
\end_layout

\begin_layout Standard
consiste à considérer la valeur résultante 
\begin_inset Formula $s$
\end_inset

, si celle-ci est différente de zéro, comme une variable d'entrée pour le
 neurone suivant et à transmettre cette valeur à toutes les entrées des
 neurones suivants.
 
\end_layout

\begin_layout Subsection
Les réseaux de neurones
\end_layout

\begin_layout Standard
On compte deux types de réseaux de neurones; les réseaux à propagation avant,
 ou réseaux de neurone acycliques, et les réseaux de neurones cycliques.
 Un réseau de neurone est modélisé comme un graphe, adapté au problème en
 question.
 Les nœuds sont alors les neurones et les arêtes, les connexions entre ces
 neurones.
 
\end_layout

\begin_layout Standard
Le réseau à propagation avant réalise une ou plusieurs fonctions non linéaires
 de ses entrées par composition des fonctions réalisées par chacun de ses
 neurones.
 Les informations circulent des entrées vers les sorties sans retour en
 arrière.
 Les neurones effectuant le dernier calcul de la composition de fonctions
 sont appelés neurones de sorties et ceux effectuant des calculs intermédiaires
 sont appelés neurones cachés.
\end_layout

\begin_layout Paragraph
Perceptron multicouche
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Le réseau à propagation avant le plus simplifié est le 
\begin_inset Quotes fld
\end_inset

Perceptrons multicouche
\begin_inset Quotes frd
\end_inset

 (Multi-Layer Perceptron).
 C'est un réseau de neurones dont les neurones cachés ont des fonctions
 d'activation sigmoïde.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/PLC.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle de perceptron multicouche
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
La couche d'entrée représente les informations que l'on donne à l'entrée
 du réseau (exemple: pixel des images etc..).
 Les couches cachées permettent de donner une abstraction au modèle.
 Tous les arcs d'un nœud ont le même poids car chaque nœud a une valeur
 de sortie unique.
\end_layout

\begin_layout Standard
Il fait parti des algorithmes supervisés de classificateurs binaires.
 Celui-ci est constitué de neurones munie d'une 
\begin_inset Quotes fld
\end_inset

règle d'apprentissage
\begin_inset Quotes frd
\end_inset

 qui détermine les poids de manière automatique tel que 
\begin_inset Formula $s=f(v).w'_{i}$
\end_inset

 est la sortie.
 En fonction du résultat de 
\begin_inset Formula $s$
\end_inset

, on en déduit la réponse prédictive de l’objet en question.
\end_layout

\begin_layout Subparagraph
Remarque: 
\end_layout

\begin_layout Standard
La notion de nœud est alors introduite.
 Les nœuds, qui peuvent être appelés neurones, reçoivent une information
 de leurs prédécesseurs (les neurones de la couche précédente) et combinent
 cette information selon des pondérations identifiées par des poids 
\begin_inset Formula $w_{i}$
\end_inset

 .
 Chaque nœud peut aussi posséder un seuil d’activation, appelé aussi biais,
 noté 
\begin_inset Formula $w_{0}$
\end_inset

.
 Le but est d'ajuster ces poids afin d'obtenir une sortie relativement correcte.
 Cela est réalisable lors de la phase d'apprentissage.
 Il faut aussi définir la qualité de chaque sortie donnée compte tenu de
 l’entrée.
 Cette valeur est appelé le coût (norme 2 par exemple avec la différence
 entre la réponse de la fonction et la sortie du réseau, au carré).
\end_layout

\begin_layout Standard
Une fois le coût calculé, la rétro-propagation peut être utilisée afin de
 réduire le calcul du gradient du coût par rapport au poids (c'est-à-dire
 la dérivée du coût par rapport à chaque poids pour chaque nœuds dans chaque
 couche).
 Ensuite, une méthode d'optimisation est utilisée pour ajuster les poids
 afin de réduire les coûts.
 Ces méthodes peuvent être retrouvées dans des bibliothèques et les gradients
 peuvent ainsi être alimentés par la bonne fonction et cette dernière, par
 la suite, ajuste les poids correctement.
\end_layout

\begin_layout Paragraph
La fonction sigmoïde
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
La fonction d'activation est définie comme suit: 
\end_layout

\begin_layout Standard
\begin_inset Formula $\begin{cases}
f(x_{1},..x_{p})=1 & \textrm{si}{\displaystyle \sum_{i\in I}}w_{i}x_{i}>w_{0}\\
f(x_{1},..,x_{p})=0 & \textrm{sinon}
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
avec b le seuil d'activation ou biais 
\end_layout

\begin_layout Standard
Il s'agit de la fonction de Heaviside définie par 
\begin_inset Formula $f(x_{1},..,x_{p})=H({\displaystyle \sum_{i\in I}}w_{i}x_{i}-w_{0})$
\end_inset

 mais celle-ci ne répond pas aux critères permettant d'utiliser la méthode
 du gradient car elle n'est pas dérivable et continue.
 De ce fait, la fonction d'activation généralement recommandée est la fonction
 sigmoïde (en forme de s) qui est symétrique par rapport à l'origine.
\end_layout

\begin_layout Standard
Elle est définie par:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
f_{1}(x)=\frac{1}{1+e^{-x}}
\]

\end_inset


\end_layout

\begin_layout Standard
et plus généralement:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
f_{λ}(x)=\frac{1}{1+e^{-λx}}
\]

\end_inset


\end_layout

\begin_layout Standard
Remarque: si 
\begin_inset Formula $λ=\frac{1}{T}$
\end_inset

, si T tend vers 0, la fonction sigmoïde tend vers une fonction de Heaviside.
\end_layout

\begin_layout Standard
Voici l'allure de la courbe pour 
\begin_inset Formula $f_{1}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/sigmoide.png
	lyxscale 40
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle de perceptron multicouche
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Celle-ci possède des propriétés intéressantes.
 Celle-ci est continue et dérivable à l'infini.
 En effet, 
\begin_inset Formula $f'_{λ}(x)=f(x)\cdot(1-f(x))$
\end_inset

 et 
\begin_inset Formula $f\in C^{\infty}$
\end_inset

.
 Le calcul de la dérivée de cette fonction en un point est directement calculabl
e à partir de ce point, ce qui rend facilement applicable la méthode du
 gradient.
 De plus, la fonction renvoie des valeurs entre 0 et 1 donc l'interprétation
 en tant que probabilité est alors possible.
 
\end_layout

\begin_layout Standard
La fonction ReLu (Unité de Rectification Linéaire ) peut aussi être utilisée
 comme fonction d'activation.
 Elle est définie comme suit: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
f(x)=\begin{cases}
0 & x<0\\
x & x\geq0
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Standard
Voici l'allure de la courbe pour f:
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/relu.jpeg
	lyxscale 40
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle de perceptron multicouche
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Apprentissage
\end_layout

\begin_layout Subsection
L'apprentissage
\end_layout

\begin_layout Standard
Après avoir créer le réseau de neurones, on doit procéder à son apprentissage.
 
\end_layout

\begin_layout Paragraph
Définition
\end_layout

\begin_layout Standard
L'apprentissage (en anglais machine learning) est une méthode utilisée en
 intelligence artificielle.
 Il s'agit d'algorithmes qui développent la reconnaissance de schémas, l’aptitud
e à apprendre continuellement et à faire des prévisions grâce à l'analyse
 d'une base de données.
 
\end_layout

\begin_layout Standard
Dans le domaine des réseaux de neurones, il s'agit d'une phase du développement
 du réseau durant laquelle le comportement du réseau est modifié jusqu’à
 l’obtention du comportement désiré.
 Il y a deux types d’algorithme d’apprentissage : 
\end_layout

\begin_layout Enumerate
L’apprentissage supervisé 
\end_layout

\begin_layout Enumerate
L’apprentissage non supervisé 
\end_layout

\begin_layout Standard
Dans le cas de l'apprentissage supervisé, les exemples sont des couples
 (Entrée, Sortie associée à l'entrée) alors que pour l'apprentissage non
 supervisé, on ne dispose que des valeurs Entrée.
 
\end_layout

\begin_layout Standard
L'apprentissage consiste à modifier le poids des connections entre les neurones.
 Au démarrage de la phase d'apprentissage, nous disposons d'une base de
 données.
 Nous avons les entrées 
\begin_inset Formula $(x_{i})_{i\in I}$
\end_inset

 et les sorties 
\begin_inset Formula $(\overline{y}_{i})_{i\in I}$
\end_inset

.
 Durant la phase d'apprentissage, nous allons utiliser les entrées 
\begin_inset Formula $(x_{i})_{i\in I}$
\end_inset

 connues et tester si l'apprentissage a bien fonctionné en comparant les
 sorties 
\begin_inset Formula $(y_{i})_{i\in I}$
\end_inset

.
 avec les sorties 
\begin_inset Formula $(\overline{y}_{i})_{i\in I}$
\end_inset

 connues de bases.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename Images/ES.png
	lyxscale 30
	scale 45
	rotateOrigin center

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schéma Entrées/Sorties
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour que l'apprentissage fonctionne correctement, il est ainsi nécessaire
 que l'on ait: 
\begin_inset Formula $y_{i}\simeq\overline{y_{i}}$
\end_inset

 
\begin_inset Formula $\forall i\in I$
\end_inset

.
\end_layout

\begin_layout Standard
Soit f, une fonction paramétrée non linéaire dite d'activation, telle que:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
y_{i}= & f(x_{i},w)=f_{i}(w)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
où w est le vecteur poids représentant les paramètres.
 Plus généralement, on a: 
\begin_inset Formula $y=f(x,w)$
\end_inset

.
 La sortie y est ainsi fonction non linéaire d'une combinaison des variables
 
\begin_inset Formula $x_{i}$
\end_inset

 pondérées par les paramètres 
\begin_inset Formula $w_{i}$
\end_inset

.
 
\end_layout

\begin_layout Standard
On a alors le schéma suivant: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename Images/schema.png
	lyxscale 30
	scale 50
	rotateOrigin center

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
centering
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schéma d'un neurone avec 4 entrées
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\shape italic
Légende: les carrés jaunes correspondent aux entrées, le losange noir correspond
 à un nœud et le cercle bleu à un neurone.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour que l'apprentissage fonctionne, il suffit alors d'avoir: 
\begin_inset Formula $\forall i\in I$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
f_{i}(w)\simeq & \overline{y_{i}}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Le système étant non linéaire, il n'est pas possible d'utiliser les méthodes
 classiques pour la résolution de systèmes linéaires comme la méthode de
 Gauss.
 
\end_layout

\begin_layout Paragraph
Problème 
\end_layout

\begin_layout Standard
Nous cherchons à trouver les éléments du vecteur poids w afin que 
\begin_inset Formula $\forall i\in I$
\end_inset

 
\begin_inset Formula $f_{i}(w)$
\end_inset

 soit le plus proche possible de 
\begin_inset Formula $\overline{y_{i}}$
\end_inset

 en utilisant une méthode de résolution de systèmes non linéaires.
 L'apprentissage est ainsi un problème numérique d'optimisation.
 Les poids ont initialement des valeurs aléatoires et sont modifiés grâce
 à un algorithme d'apprentissage.
 
\end_layout

\begin_layout Standard
Par la méthode des moindres carrés, le problème en utilisant la norme 2
 se ramène à:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
f_{i}(w)\simeq & \overline{y_{i}}\Leftrightarrow\underset{w}{min}(\sum_{i\in I}(f_{i}(w)-\overline{y_{i}})^{2})
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Il est aussi possible d'utiliser les normes 
\begin_inset Formula $\shortparallel\cdot\shortparallel_{\infty}$
\end_inset

 ou 
\begin_inset Formula $\shortparallel\cdot\shortparallel_{1}.$
\end_inset

 La fonction de coût des moindres carrés, en ajoutant un coefficient 
\begin_inset Formula $\frac{1}{2}$
\end_inset

 pour simplifier les futurs calculs du gradient, est alors:
\begin_inset Formula 
\begin{align*}
J(w)=\frac{1}{2} & \cdot\sum_{i\in I}(f_{i}(w)-\overline{y_{i}})^{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection
Estimation des paramètres d'un réseau de neurones
\end_layout

\begin_layout Subsubsection
Évaluation du gradient par rétro-propagation
\end_layout

\begin_layout Standard
On rappelle que l'objectif est de minimiser la fonction coût des moindres
 carrées.
 Le modèle n'étant pas linéaire, il faut avoir recours à des méthodes itératives
 issues de techniques d'optimisation non linéaire qui modifient les paramètres
 du modèle en fonction du gradient de la fonction de coût par rapport à
 ses paramètres.
 A chaque étape du processus d'apprentissage, il faut évaluer le gradient
 de la fonction de coût J et modifier les paramètres en fonction de ce gradient
 afin de minimiser la fonction J.
 L'évaluation du gradient de la fonction de coût peut être évalué grâce
 à l'algorithme de rétro-propagation.
 Nous allons expliquer cette méthode d'évaluation du gradient.
 Dans cette section, nous n'allons pas différencier les variables selon
 les couches.
 Cependant, dans les sections suivantes, nous allons différencier les variables
 selon les couches afin de simplifier la notation et le stockage de ces
 variables.
 
\end_layout

\begin_layout Standard
Soit un réseau de neurones à propagation avant avec des neurones cachés
 et un neurone de sortie.
 Nous allons changer la définition de la fonction f pour simplifier les
 notations mais cela ne modifie pas la valeur de la sortie 
\begin_inset Formula $y_{i}$
\end_inset

.
 Ainsi la sortie 
\begin_inset Formula $y_{i}$
\end_inset

 du neurone i est défini à présent de la manière suivante: 
\begin_inset Formula 
\begin{align*}
y_{i}=f(\nu_{i}) & =f({\displaystyle \sum_{j=1}^{n_{i}}}w_{ij}x_{j}^{i})
\end{align*}

\end_inset


\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
avec 
\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{j}^{i}$
\end_inset

 la variable j du neurone i.
 Elle désigne soit la sortie 
\begin_inset Formula $y_{j}$
\end_inset

du neurone i ou soit une variable d'entrée du réseau.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $n_{i}$
\end_inset

 le nombre de variables du neurone i.
 Ces variables peuvent être les sorties d'autres neurones ou les variables
 du réseau.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $w_{ij}$
\end_inset

 est le poids de la variable j du neurone i.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\nu_{i}$
\end_inset

 est le potentiel du neurone i.
 
\end_layout

\begin_layout Itemize
f est la fonction d'activation.
 
\end_layout

\begin_layout Standard
Soit l'entier N égal au nombre d'exemples que comprend la phase d'apprentissage.
 Soit 
\begin_inset Formula $\overline{y_{k}}$
\end_inset

 la sortie du réseau de neurones pour le 
\begin_inset Formula $k^{ème}$
\end_inset

exemple, elle est appelée la prédiction du modèle pour l'exemple k.
 La fonction de coût est alors: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
J(w) & =\frac{1}{2}\cdot\sum_{k=1}^{N}\left(f(\nu_{k})-\overline{y_{k}}\right)^{2}\\
 & =\frac{1}{2}\cdot\sum_{k=1}^{N}\left(y_{k}-\overline{y_{k}}\right)^{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
avec 
\begin_inset Formula $y_{k}$
\end_inset

 la valeur prise par la grandeur à modéliser pour l'exemple k.
 
\end_layout

\begin_layout Standard
On pose la fonction de perte relative à l'exemple k 
\begin_inset Formula $\Pi(x_{k},w)=\left(f(\nu_{k})-\overline{y_{k}}\right)^{2}=\left(y_{k}-\overline{y_{k}}\right)^{2}$
\end_inset

 et on a alors: 
\begin_inset Formula 
\begin{align*}
J(w) & =\frac{1}{2}\cdot\sum_{k=1}^{N}\Pi(x_{k},w)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
En remarquant que la fonction de perte dépend des variables poids seulement
 par le potentiel, calculons les dérivées partielles de la fonction 
\begin_inset Formula $\Pi$
\end_inset

 par rapport aux poids: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(\frac{\partial\Pi(x,w)}{\partial w_{ij}}\right)_{x=x_{k}} & =\left(\frac{\partial\Pi(x,w)}{\partial\nu_{i}}\right)_{x=x_{k}}\cdot\left(\frac{\partial\nu_{i}}{\partial w_{ij}}\right)_{x=x_{k}}\\
 & =\delta_{k}^{i}(x)\cdot\left(\frac{\partial\left({\displaystyle \sum_{l=1}^{n_{i}}}w_{il}x_{l}^{i}\right)}{\partial w_{ij}}\right)_{x=x_{k}}\\
 & =\delta_{k}^{i}(x)\cdot x_{j,k}^{i}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
avec 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\nu_{i}={\displaystyle \sum_{j=1}^{n_{i}}}w_{ij}x_{j}^{i}$
\end_inset


\end_layout

\begin_layout Itemize
On pose 
\begin_inset Formula $\delta_{k}^{i}(x)=\left(\frac{\partial\Pi(x,w)}{\partial\nu_{i}}\right)_{x=x_{k}}$
\end_inset

 pour le neurone i pour l'exemple k.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $x_{j,k}^{i}$
\end_inset

 est la valeur de la variable j du neurone i pour l'exemple k.
 Ces valeurs sont, à chaque étape du processus d'apprentissage, connues.
 
\end_layout

\begin_layout Standard
Nous cherchons alors à calculer les quantités 
\begin_inset Formula $\delta_{k}^{i}(x)$
\end_inset

.
\end_layout

\begin_layout Enumerate
Pour le neurone de sortie s de potentiel 
\begin_inset Formula $\nu_{s}$
\end_inset

, 
\begin_inset Formula 
\begin{align*}
\delta_{k}^{s}(x) & =\left(\frac{\partial\Pi(x,w)}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =\left(\frac{\partial}{\partial\nu_{s}}\left[\left(f(\nu_{k})-\overline{y_{k}}\right)^{2}\right]\right)_{x=x_{k}}\\
 & =2\cdot\left(f(\nu_{k})-\overline{y_{k}}\right)\cdot\left(\frac{\partial f(\nu_{s})}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =2\cdot\left(f(\nu_{k})-\overline{y_{k}}\right)\cdot f'(\nu_{s}^{k})
\end{align*}

\end_inset

Généralement, la dernière couche est constituée d’un seul neurone muni de
 la fonction d’activation identité tandis que les autres neurones des couches
 cachées sont munis de la fonction sigmoïde.
 C'est un choix arbitraire et cela ne modifie pas les résultats si la couche
 de sortie a plusieurs de neurones.
 On considère alors que le neurone de sortie est linéaire et ainsi: 
\begin_inset Formula 
\begin{align*}
\left(\frac{\partial f(\nu_{s})}{\partial\nu_{s}}\right)_{x=x_{k}} & =\left(\frac{\partial f\left({\displaystyle \sum_{j=1}^{n_{s}}}w_{sj}x_{j}^{s}\right)}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =\left({\displaystyle \sum_{j=1}^{n_{s}}}w_{sj}\cdot\frac{\partial f\left(x_{j}^{s}\right)}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =\left(\frac{\partial{\displaystyle \sum_{j=1}^{n_{s}}}w_{sj}\cdot x_{j}^{s}}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =\left(\frac{\partial v_{s}}{\partial\nu_{s}}\right)_{x=x_{k}}\\
 & =1
\end{align*}

\end_inset

Ainsi, nous obtenons: 
\begin_inset Formula $\delta_{k}^{s}(x)=2\cdot\left(f(\nu_{k})-\overline{y_{k}}\right)$
\end_inset

 pour le neurone de sortie s pour l'exemple k.
\end_layout

\begin_layout Enumerate
Pour un neurone caché i de potentiel 
\begin_inset Formula $\nu_{i}$
\end_inset

: la fonction de coût dépend du potentiel 
\begin_inset Formula $\nu_{i}$
\end_inset

 seulement par l'intermédiaire des potentiels des neurones 
\begin_inset Formula $m\in M\subset I$
\end_inset

 dont une des variables est la valeur de la sortie du neurone i, c'est-à-dire
 
\begin_inset Formula $f(\nu_{i})$
\end_inset

.
 Cela concerne alors tous les neurones qui sont adjacents au neurone i,
 entre ce dernier neurone et la sortie, sur le graphe du réseau de neurones
 (voir le schéma ci-dessous).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/neuronecache.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schéma des neurones m et i (sans les poids)
\end_layout

\end_inset


\end_layout

\end_inset

 
\begin_inset Formula 
\begin{align*}
\delta_{k}^{i}(x) & =\left(\frac{\partial\Pi(x,w)}{\partial\nu_{i}}\right)_{x=x_{k}}\\
 & =\sum_{m\in M}\left(\left(\frac{\partial\Pi(x,w)}{\partial\nu_{m}}\right)_{x=x_{k}}\cdot\left(\frac{\partial\nu_{m}}{\partial\nu_{i}}\right)_{x=x_{k}}\right)\\
 & =\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot\left(\frac{\partial\nu_{m}}{\partial\nu_{i}}\right)_{x=x_{k}}\right)\\
 & =\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot\left(\frac{\partial\left({\displaystyle \sum_{j=1}^{n_{m}}}w_{mj}x_{j}^{m}\right)}{\partial\nu_{i}}\right)_{x=x_{k}}\right)\\
 & =\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot\left(\frac{\partial\left({\displaystyle \sum_{i=1}^{n_{m}}}w_{mi}\cdot f(v_{i})\right)}{\partial\nu_{i}}\right)_{x=x_{k}}\right)\\
 & =\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot w_{mi}\cdot f'(v_{i}^{k})\right)\\
 & =f'(v_{i}^{k})\cdot\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot w_{mi}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
On peut ainsi remarquer que 
\begin_inset Formula $\delta_{k}^{i}(x)$
\end_inset

 peuvent se calculer de manière récursive, c'est-à-dire en parcourant le
 graphe de la sortie vers l'entrée du réseau: c'est la rétro-propagation.
 
\end_layout

\begin_layout Standard
Ainsi nous pouvons calculer le gradient de la fonction de coût, comme suit:
 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{\partial J(w)}{\partial w} & =\frac{1}{2}\cdot\sum_{k=1}^{N}\frac{\partial\Pi(x_{k},w)}{\partial w}
\end{align*}

\end_inset


\end_layout

\begin_layout Subsubsection
Résumé de la rétro-propagation
\end_layout

\begin_layout Standard
Résumons les différentes étapes de la retro-propagation: 
\end_layout

\begin_layout Enumerate
La propagation avant: les variables de l'exemple k sont utilisées pour calculer
 les sorties et les potentiels de tous les neurones.
 
\end_layout

\begin_layout Enumerate
La retro-propagation: les quantités 
\begin_inset Formula $\delta_{k}^{i}(x)$
\end_inset

 sont calculés récursivement.
 
\begin_inset Formula 
\begin{align*}
\delta_{k}^{i}(x) & =f'(v_{i}^{k})\cdot\sum_{m\in M}\left(\delta_{k}^{m}(x)\cdot w_{mi}\right)
\end{align*}

\end_inset

Pour le neurone de sortie, on a: 
\begin_inset Formula $\delta_{k}^{s}(x)=2\cdot\left(f(\nu_{k})-\overline{y_{k}}\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
Calcul du gradient des fonctions de perte: 
\begin_inset Formula ${\displaystyle \left(\frac{\partial\Pi(x,w)}{\partial w_{ij}}\right)_{x=x_{k}}=\delta_{k}^{i}(x)\cdot x_{j,k}^{i}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Calcul du gradient de la fonction de coût: 
\begin_inset Formula ${\displaystyle \frac{\partial J(w)}{\partial w}=\frac{1}{2}\cdot{\displaystyle \sum_{k=1}^{N}\frac{\partial\Pi(x_{k},w)}{\partial w}}}$
\end_inset

.
\end_layout

\begin_layout Standard
Nous sommes ainsi capable d'évaluer le gradient de la fonction de coût,
 à chaque itération de l'apprentissage, par rapport aux paramètres du modèle
 que sont les poids.
 Il suffit, à présent, de modifier les paramètres du modèle afin de minimiser
 cette fonction de coût et de définir un critère d'arrêt pour la minimisation
 du gradient de la fonction de coût.
 
\end_layout

\begin_layout Subsubsection
Modification des poids
\end_layout

\begin_layout Standard
La règle delta, appelée méthode du gradient simple, stipule que:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{flalign*}
w_{ij} & =w_{ij}-\eta_{i}\cdot\delta_{k}^{j}(x)\cdot f(\nu_{i}^{k})
\end{flalign*}

\end_inset


\end_layout

\begin_layout Standard
avec 
\begin_inset Formula $\eta_{i}>0$
\end_inset

 un scalaire, appelé pas d'apprentissage ou pas de gradient qui peut être
 fixé ou adaptatif.
 Ce pas d'apprentissage est très important et aura une influence sur la
 convergence de la solution.
 Plus ce pas est petit et plus la convergence sera lente.
 Et plus ce pas est grand et plus la solution aura tendance à diverger.
 Il faut alors judicieusement choisir le pas.
 Nous définirons, par la suite, comment le définir.
 
\end_layout

\begin_layout Section
L'algorithme d'apprentissage par rétro-propagation
\end_layout

\begin_layout Subsection
Notations
\end_layout

\begin_layout Standard
Résumons les différentes étapes à suivre pour l'apprentissage.
 Pour cela, nous allons construire un algorithme.
 Afin de simplifier les calculs et la compréhension de l'algorithme, quelques
 notations seront modifiées.
 Dans cet algorithme, on considère que la couche de sortie est composée
 d'un ou de plusieurs neurones.
 On part du principe que les neurones sont tous reliés entre eux par un
 poids (qui est égale 0 si la liaison n'existe pas réellement).
 De plus, on considère que les couches n'ont pas forcément le même nombre
 de neurones et on suppose que les données d'entrées sont de même taille
 pour tous les exemples.
 Nous considérons aussi que les neurones n'ont pas de biais.
 Pour finir, nous allons aussi différencier les variables selon la couche
 auxquelles elles appartiennent.
 
\end_layout

\begin_layout Standard
En utilisant les calculs des sections précédentes, on pose: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
K & :\textrm{ nombre d'exemples à disposition avec }K\in\mathbb{N}^{*}\\
L & :\textrm{ nombre de couches avec }L\in\mathbb{N}^{*}\textrm{et }L\geq2.\\
n_{i} & :\textrm{ le nombre de neurones pour la couche i avec }i\in\mathbb{N}^{*}et\;i\in\llbracket1,L\rrbracket\\
\textrm{N}=\underset{i=1..L}{max(n_{i})} & \textrm{: le nombre maximal de neurones par couche avec }N\in\mathbb{N}^{*}.\\
w_{ij}^{l} & :\textrm{ le poids qui relie le neurone i de la couche l au neurone j de la couche l+1avec }\\
 & \textrm{ }i\in\llbracket1,n_{l}\rrbracket\textrm{et j\in\llbracket1,n_{l+1}\rrbracket}\textrm{et }l\in\llbracket1,L-1\rrbracket\\
a_{i}^{l}=f(\nu_{i}^{l}) & :\textrm{ la valeur dit aussi activité du ième neurone de la couche l. }\\
x_{i}=a_{i}^{1} & :\textrm{ la ième valeur du neurone de la couche d'entrée. }\\
y_{i}=a_{i}^{L} & :\textrm{ la ième valeur du neurone de la couche de sortie. }\\
\nu_{j}^{l}=\sum_{i=1}^{n_{l-1}}w_{ij}^{l-1}a_{i}^{l-1} & :\textrm{ le potentiel du neurone j de la couche l. }\\
\delta_{j}^{L}=2(a_{j}^{L}-\overline{y_{j}}) & :\textrm{ la valeur du gradient pour le neurone j de la couche de sortie. }\\
\delta_{j}^{l}=f'(\nu_{j}^{l})\sum_{i=1}^{n_{l+1}}\delta_{i}^{l+1}w_{ji}^{l} & \textrm{ la valeur du gradient pour le neurone j de la couche l. }\\
J_{k}=\frac{1}{2}\sum_{i=1}^{n_{L}}\left(y_{i}-\overline{y_{i}}\right)_{x=x_{k}}^{2}: & \textrm{ l'erreur quadratique entre la sortie obtenue et la sortie attendue pour l'exemple k. }\\
\Gamma=\underset{k\in K}{max(J_{k})}: & \textrm{ la valeur maximale entre tous les }J_{k}.\\
\varepsilon\;: & \textrm{ la précision souhaitée, une valeur réelle très proche de 0. }\\
\eta_{l}\:: & \textrm{ le pas d'apprentissage pour la couche l. }
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection
L'algorithme
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}  
\end_layout

\begin_layout Plain Layout


\backslash
REQUIRE Un ensemble d'exemples avec comme vecteur entrée x et comme vecteur
 sortie y.
 Et un réseau avec un nombre de couches et un nombre de  neurones pré-définis.
 Et un $
\backslash
epsilon$ pour la précision définie.
  
\end_layout

\begin_layout Plain Layout


\backslash
ENSURE Un réseau de neurones avec des poids.
 
\end_layout

\begin_layout Plain Layout


\backslash
FOR{l=1 à L-1}
\end_layout

\begin_layout Plain Layout

	
\backslash
FOR{
\backslash
textbf{chaque} poids $w_{ij}^l$} 
\end_layout

\begin_layout Plain Layout

	
\backslash
STATE $ w_{ij}^l 
\backslash
leftarrow 
\backslash
textrm{valeur aléatoire relativement petite}$
\end_layout

\begin_layout Plain Layout

	
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout


\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout


\backslash
REPEAT
\end_layout

\begin_layout Plain Layout


\backslash
FOR{
\backslash
textbf{chaque} exemple ($x,
\backslash
overline{y})_k$ k=1..K}  
\end_layout

\begin_layout Plain Layout

	
\backslash
FOR{i=1 à $n_1$}  
\end_layout

\begin_layout Plain Layout

		
\backslash
STATE $ a_{i}^1 
\backslash
leftarrow x_{i} $
\end_layout

\begin_layout Plain Layout

	
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
FOR{l=2 à L}  
\end_layout

\begin_layout Plain Layout

				
\backslash
FOR{j=1 à $n_l$}
\end_layout

\begin_layout Plain Layout

					
\backslash
STATE $ 
\backslash
nu_{j}^l 
\backslash
leftarrow 
\backslash
sum
\backslash
limits_{i=1}^{n_{l-1}}w_{ij}^{l-1}a_{i}^{l-1} $
\end_layout

\begin_layout Plain Layout

					
\backslash
STATE $ a_{j}^l 
\backslash
leftarrow f(
\backslash
nu_{j}^l) $
\end_layout

\begin_layout Plain Layout

				
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
FOR{j=1 à $n_L$}
\end_layout

\begin_layout Plain Layout

				
\backslash
STATE $ 
\backslash
delta_{j}^{L} 
\backslash
leftarrow 2(a_{j}^{L}-
\backslash
overline{y_{j}}) $
\end_layout

\begin_layout Plain Layout

		
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
FOR{l=L-1 à 2} 
\end_layout

\begin_layout Plain Layout

			
\backslash
FOR{j=1 à $n_l$}
\end_layout

\begin_layout Plain Layout

					
\backslash
STATE $ 
\backslash
delta_{j}^{l} 
\backslash
leftarrow f'(
\backslash
nu_{j}^{l})
\backslash
sum
\backslash
limits_{i=1}^{n_{l+1}}
\backslash
delta_{i}^{l+1}w_{ji}^{l}$
\end_layout

\begin_layout Plain Layout

			
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout

		
\backslash
FOR{l=1 à L-1}
\end_layout

\begin_layout Plain Layout

	
\backslash
FOR{
\backslash
textbf{chaque} poids $w_{ij}^l$} 
\end_layout

\begin_layout Plain Layout

	
\backslash
STATE $ w_{ij}^l 
\backslash
leftarrow w_{ij}^l-
\backslash
eta_{l}
\backslash
cdot
\backslash
delta_{j}^{l}(x)
\backslash
cdot a_i^l$
\end_layout

\begin_layout Plain Layout

	
\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout


\backslash
ENDFOR	
\end_layout

\begin_layout Plain Layout


\backslash
STATE $J_{k} 
\backslash
leftarrow 
\backslash
frac{1}{2}
\backslash
sum
\backslash
limits_{i=1}^{n_{L}}
\backslash
left(a_{i}^L-
\backslash
overline{y_{i}}
\backslash
right)^{2}$
\end_layout

\begin_layout Plain Layout


\backslash
ENDFOR
\end_layout

\begin_layout Plain Layout


\backslash
STATE $ 
\backslash
Gamma 
\backslash
leftarrow 
\backslash
parallel J 
\backslash
parallel_
\backslash
infty$
\end_layout

\begin_layout Plain Layout


\backslash
UNTIL{$
\backslash
Gamma 
\backslash
leq 
\backslash
varepsilon$}
\end_layout

\begin_layout Plain Layout


\backslash
end{algorithmic} 
\end_layout

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Algorithme de rétro-propagation
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Matrices de stockage
\end_layout

\begin_layout Standard
Nous avons besoin de stocker les différentes valeurs calculées.
 Nous choisissons de les stocker dans des matrices définies ci-dessous.
 Ce choix est arbitraire et ne définit la manière dont nous allons stocker
 nos données lors de la programmation de notre réseau de neurones.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $X=\left(\begin{array}{cccc}
x_{1}^{1} & x_{1}^{2} & \cdots & x_{1}^{K}\\
x_{2}^{1} & x_{2}^{2} & \cdots & x_{2}^{K}\\
\vdots & \vdots & \cdots & \vdots\\
x_{n_{1}}^{1} & x_{n_{1}}^{2} & \cdots & x_{n_{1}}^{K}
\end{array}\right)$
\end_inset


\begin_inset Formula $\in\mathbb{R}^{n_{1}\times K}$
\end_inset

 définit la matrice des données d'entrées.
 Chaque colonne correspond à un exemple.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overline{Y}=\left(\begin{array}{cccc}
\overline{y}_{1}^{1} & \overline{y}_{1}^{2} & \cdots & \overline{y}_{1}^{K}\\
\overline{y}_{2}^{1} & \overline{y}_{2}^{2} & \cdots & \overline{y}_{2}^{K}\\
\vdots & \vdots & \cdots & \vdots\\
\overline{y}_{n_{L}}^{1} & \overline{y}_{n_{L}}^{2} & \cdots & \overline{y}_{n_{L}}^{K}
\end{array}\right)$
\end_inset


\begin_inset Formula $\in\mathbb{R}^{n_{L}\times K}$
\end_inset

 définit la matrice des données de sorties.
 Chaque colonne correspond à un exemple.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $W_{l\in\llbracket1,L-1\rrbracket}=\left(\begin{array}{cccc}
w_{11} & w_{12} & \cdots & w_{1n_{l+1}}\\
w_{21} & w_{22} & \cdots & w_{2n_{l+1}}\\
\vdots & \ddots & \cdots & \vdots\\
\vdots & \vdots & \ddots & w_{n_{l}-1,n_{l+1}}\\
w_{n_{l}1} & \cdots & w_{n_{l}n_{l+1}-1} & w_{n_{l}n_{l+1}}
\end{array}\right)_{l}\in\mathbb{R}^{n_{l}\times n_{l+1}}$
\end_inset

 avec 
\begin_inset Formula $w_{ij}$
\end_inset

 poids qui relie le neurone i de la couche l au neurone j de la couche l+1.
 L'ensemble de ces matrices définissent l'ensemble des poids du réseau.
\end_layout

\begin_layout Itemize
\begin_inset Formula $A=\left(\begin{array}{cccc}
a_{1}^{1} & a_{1}^{2} & \cdots & a_{1}^{L}\\
a_{2}^{1} & a_{2}^{2} & \cdots & a_{2}^{L}\\
\vdots & \vdots & \cdots & \vdots\\
a_{N}^{1} & a_{N}^{2} & \cdots & a_{N}^{L}
\end{array}\right)$
\end_inset


\begin_inset Formula $\in\mathbb{R}^{N\times L}$
\end_inset

 la matrice de l'ensemble des activités de tous les neurones du réseau avec
 
\begin_inset Formula $a_{i}^{j}$
\end_inset

 correspondant à l'activité du neurone i pour la couche j.
 La dernière colonne correspond aux valeurs de sorties de l'apprentissage
 qu'il faut comparer avec les données de sorties de départ.
 Prenant en compte que chaque couche n'a pas forcément le même nombre de
 neurones, 
\begin_inset Formula $a_{i}^{j}$
\end_inset

 prend la valeur de 0 si le neurone i n'existe pas.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\gamma=\left(\begin{array}{cccc}
\nu_{1}^{2} & \nu_{1}^{3} & \cdots & \nu_{1}^{L}\\
\nu_{2}^{2} & \nu_{2}^{3} & \cdots & \nu_{2}^{L}\\
\vdots & \vdots & \cdots & \vdots\\
\nu_{N}^{2} & \nu_{N}^{3} & \cdots & \nu_{N}^{L}
\end{array}\right)\in\mathbb{R}^{N\times L}$
\end_inset

 la matrice de l'ensemble des potentiels de tous les neurones du réseau
 avec 
\begin_inset Formula $\nu_{i}^{j}$
\end_inset

 correspondant au potentiel du neurone i pour la couche j.
 Pour les mêmes raisons que précédemment, 
\begin_inset Formula $\nu_{i}^{j}$
\end_inset

 prend la valeur de 0 si le neurone i n'existe pas.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\varDelta=\left(\begin{array}{cccc}
\delta_{1}^{2} & \delta_{1}^{3} & \cdots & \delta_{1}^{L}\\
\delta_{2}^{2} & \delta_{2}^{3} & \cdots & \delta_{2}^{L}\\
\vdots & \vdots & \cdots & \vdots\\
\delta_{N}^{2} & \delta_{N}^{3} & \cdots & \delta_{N}^{L}
\end{array}\right)\in\mathbb{R}^{N\times L}$
\end_inset

 la matrice de l'ensemble des gradients pour tous les neurones du réseau
 avec 
\begin_inset Formula $\delta_{i}^{j}$
\end_inset

 correspondant au gradient du neurone i pour la couche j.
 Pour les mêmes raisons que précédemment, 
\begin_inset Formula $\delta_{i}^{j}$
\end_inset

 prend la valeur de 0 si le neurone i n'existe pas.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $J=\left(\begin{array}{c}
J_{1}\\
J_{2}\\
\vdots\\
J_{K}
\end{array}\right)\in\mathbb{R}^{K}$
\end_inset

 l'ensemble des erreurs pour tous les exemples avec 
\begin_inset Formula $J_{i}$
\end_inset

 correspondant à l'erreur pour l'exemple i.
 
\end_layout

\begin_layout Subsection
Exemple d'un apprentissage
\end_layout

\begin_layout Standard
Nous allons appliquer l'algorithme précédent afin de mieux comprendre son
 fonctionnement.
 Nous allons utiliser un réseau de neurones avec L=4 couches comprenant
 une couche d'entrée et de sorties ainsi que deux couches cachées.
 La couche d'entrée ainsi que les couches cachées contiennent chacune deux
 neurones.
 La couche de sortie contient un seul neurone.
 Nous n'allons utiliser qu'un seul exemple.
 Voici les données: 
\begin_inset Formula 
\begin{align*}
\textrm{Entrées } & X=\left(\begin{array}{c}
3\\
1
\end{array}\right)\\
\textrm{Sortie } & \overline{Y}=\left(1\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Itemize
On a N=2, L=4 et 
\begin_inset Formula $n_{1}=n_{2}=n_{3}=2$
\end_inset

 et 
\begin_inset Formula $n_{4}=1$
\end_inset

.
 
\end_layout

\begin_layout Itemize
De plus, on a initialisé aléatoirement les poids de la sorte:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
W_{1} & =\left(\begin{array}{cc}
1 & 2\\
0.5 & -1
\end{array}\right)\textrm{ }\\
W_{2} & =\left(\begin{array}{cc}
-1 & 2\\
1 & 3
\end{array}\right)\\
W_{3} & =\left(\begin{array}{c}
2\\
1
\end{array}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Itemize
On prend comme précision 
\begin_inset Formula $\epsilon=10^{-6}$
\end_inset

 et on prend un pas d'apprentissage identique pour chaque couche: 
\begin_inset Formula $\eta=0.1$
\end_inset

.
 
\end_layout

\begin_layout Itemize
La fonction d'activation est 
\begin_inset Formula $f(x)=\frac{1}{1+e^{-x}}$
\end_inset

 et 
\begin_inset Formula $f'(x)=\frac{e^{-x}}{(1+e^{-x})^{2}}=f(x)\cdot(1-f(x))$
\end_inset

.
\end_layout

\begin_layout Paragraph
1ere étape
\end_layout

\begin_layout Standard
En appliquant l'algorithme pour la propagation avant, on obtient: 
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/propagationavant.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple propagation avant
\end_layout

\end_inset


\end_layout

\end_inset

 Et alors on a: 
\begin_inset Formula 
\begin{align*}
A & =\left(\begin{array}{cccc}
3 & 0.971 & 0.505 & 0.881\\
1 & 0.993 & 0.993 & 0
\end{array}\right)\\
\gamma & =\left(\begin{array}{ccc}
3.5 & 0.022 & 2.003\\
5 & 4.921 & 0
\end{array}\right)
\end{align*}

\end_inset

 et 
\begin_inset Formula $J_{1}=\frac{1}{2}(0.881-1)^{2}=0.007.$
\end_inset


\begin_inset Newline newline
\end_inset

Exemple: 
\begin_inset Formula $\nu_{1}^{1}=1\cdot3+0.5\cdot1=3.5$
\end_inset

 et 
\begin_inset Formula $a_{1}^{1}=f(3.5)=0.971$
\end_inset

.
\end_layout

\begin_layout Paragraph
2ème étape
\end_layout

\begin_layout Standard
En appliquant l'algorithme pour la propagation arrière, on obtient: 
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/propagationarriere.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple propagation arrière
\end_layout

\end_inset


\end_layout

\end_inset

 Et alors on a: 
\begin_inset Formula $\gamma=\left(\begin{array}{ccc}
3.23\cdot10^{-3} & -0.118 & -0.238\\
-8.55\cdot10^{-4} & -1.65\cdot10^{-3} & 0
\end{array}\right)$
\end_inset

.
\begin_inset Newline newline
\end_inset

Exemple: 
\begin_inset Formula $\delta_{1}^{1}=f'(\nu_{1}^{1})\cdot(-1\cdot(-0.118)+2\cdot(-1.65\cdot10^{-3}))=f(\nu_{1}^{1})\cdot(1-f(\nu_{1}^{1}))\cdot0.1147=0.971\cdot(1-0.971)\cdot0.1147=3.23\cdot10^{-3}$
\end_inset

.
\end_layout

\begin_layout Paragraph
3ème étape
\end_layout

\begin_layout Standard
En modifiant les poids, on obtient: 
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/modifpoids.png
	lyxscale 40
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple modification des poids
\end_layout

\end_inset


\end_layout

\end_inset

 et on a alors: 
\begin_inset Formula $W_{1}=\left(\begin{array}{cc}
0.999 & 2.000\\
0.490 & -0.999
\end{array}\right)$
\end_inset

 et 
\begin_inset Formula $W_{2}=\left(\begin{array}{cc}
-0.988 & 2.000\\
1.012 & 3.000
\end{array}\right)$
\end_inset

 et 
\begin_inset Formula $W_{3}=\left(\begin{array}{c}
2.012\\
1.024
\end{array}\right).$
\end_inset


\begin_inset Newline newline
\end_inset

On peut ainsi recommencer l'apprentissage avec un autre exemple et avec
 ces nouveaux poids initiaux.
 Ayant un seul exemple, on a alors 
\begin_inset Formula $\Gamma=J_{1}<\varepsilon$
\end_inset

 et il faut alors continuer l'apprentissage.
 
\begin_inset Newline newline
\end_inset

Exemple: 
\begin_inset Formula $w_{11}^{1}=1-0.1\cdot3\cdot3.23\cdot10^{-3}=0.999.$
\end_inset


\end_layout

\begin_layout Chapter
Composition musicale: les données
\end_layout

\begin_layout Section
Les fichiers MIDI
\end_layout

\begin_layout Standard
Un fichier MIDI (Musical Instrument Digital Interface), contrairement au
 fichier audio, ne contient aucun son, à proprement parler, mais une série
 de 
\begin_inset Quotes fld
\end_inset

directives
\begin_inset Quotes frd
\end_inset

 que seul un instrument compatible MIDI peut comprendre.
 L’instrument MIDI d’après les 
\begin_inset Quotes fld
\end_inset

consignes
\begin_inset Quotes frd
\end_inset

 contenues dans le fichier MIDI peut alors produire le son.
 Les fichiers MIDI sont des fichiers binaires : les données sont stockées
 en format binaire et non codées (texte, objets etc...).
 Vous trouverez en annexe des explications plus détaillées sur ces fichiers
 MIDI.
 
\end_layout

\begin_layout Standard
Nous avions choisi d'étudier un seul genre de musique afin de rendre l'apprentis
sage plus simple et plus précis.
 Pour cela, nous avons trouvé sur Internet des fichiers MIDI contenant des
 musiques classiques jouées au piano (
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{http://www.piano-midi.de/}
\end_layout

\end_inset

).
 Nous avons alors à notre disposition 
\begin_inset Formula $\mathbf{336\;fichiers\;MIDI}$
\end_inset

.
 
\end_layout

\begin_layout Standard
Chaque fichier MIDI représente une musique créée par un musicien.
 Toutes les musiques ont des durées et des notes différentes.
 Les événements MIDI sont aussi différents selon les musiques.
 
\end_layout

\begin_layout Paragraph
DEFINITION
\end_layout

\begin_layout Itemize
Canal (channel) : Correspond souvent à un instrument.
 Il peut y avoir 16 canaux.
\end_layout

\begin_layout Itemize
NoteOnEvent : Un événement MIDI qui possède 3 paramètres : le numéro de
 note, sa vélocité et son tick.
 Cet événement demande à l'instrument de jouer la note.
\end_layout

\begin_layout Itemize
NoteOffEvent : Un événement MIDI qui possède 3 paramètres : le numéro de
 note, sa vélocité et son tick.
 Cet événement demande à l'instrument d'arrêter de jouer la note.
\end_layout

\begin_layout Itemize
tick : Le temps d'attente après l'événement précédent.
 Il est possible de le convertir en secondes en utilisant la division (informati
on donnée dans l'en-tête du fichier MIDI)
\end_layout

\begin_layout Itemize
vélocitée (velocity) : Le volume de la note
\end_layout

\begin_layout Itemize
data : Correspond à une information arbitraire stockée dans un événement.
 Par exemple, il est possible de stocker le nom du morceau dans un champ
 data.
\end_layout

\begin_layout Itemize
Piste (track) : Une piste MIDI est une suite d'événements tels que "La note
 est jouée" (événement MIDI).
 Ces pistes constituent donc la musique en elle-même.
 Cependant, les pistes peuvent aussi contenir des informations telles que
 le titre de la musique ou encore le copyright (Meta événement).
\end_layout

\begin_layout Standard
Ainsi, les informations nous intéressant sont les événements NoteOnEvent
 et NoteOffEvent.
 En effet, ces événements sont ceux qui permettent de générer les sons et
 donc il faut que notre réseau parvienne à les prévoir.
\end_layout

\begin_layout Standard
Cependant, nous avons remarqué que nos fichiers MIDI n'utilisaient pas d'événeme
nt NoteOffEvent, mais plutôt des événements NoteOnEvent avec une vélocitée
 nulle.
 Cela revient donc au même et nous avons continué dans cette voie.
\end_layout

\begin_layout Section
L'extraction d'informations
\end_layout

\begin_layout Standard
Notre objectif est d'obtenir deux fichiers de données: l'un pour l'apprentissage
 et l'un pour les tests.
 Dans le fichier se trouvera toutes les informations que l'on jugera nécessaires
 pour la création d'une musique.
 Et ainsi dans un fichier se trouvera plusieurs musiques avec leurs différentes
 informations.
\end_layout

\begin_layout Subsection
Script Python
\end_layout

\begin_layout Standard
Tout d'abord, nous avons construit un programme en C permettant d'extraire
 des informations d'un fichier MIDI.
 Cependant, étant donné que les fichiers MIDI sont très complexes et très
 difficiles à manipuler, nous avons finalement décidé d'utiliser une bibliothèqu
e python permettant de faire cela.
 Cette bibliothèque est appelée 
\begin_inset Quotes fld
\end_inset

python-midi
\begin_inset Quotes frd
\end_inset

 et peut être trouvée à l'adresse suivante: 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://github.com/vishnubob/python-midi}
\end_layout

\end_inset

.
 Il s'agit d'un projet mis sur GitHub.
 
\end_layout

\begin_layout Standard
Cette bibliothèque est très intéressante car elle permet de créer un script
 Python à partir d'un fichier MIDI.
 Par exemple, si nous avons le fichier midi suivant: 
\begin_inset Quotes fld
\end_inset

alb_esp1.mid
\begin_inset Quotes frd
\end_inset

 et que nous voulons voir les différents évenements qui permettent de créer
 la musique de ce fichier, il suffit d'utiliser la commande suivante: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\textrm{mididump.py mary.mid}
\]

\end_inset


\end_layout

\begin_layout Standard
Et nous obtenons alors le script (raccourci) suivant: 
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/exempleMIDI.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Standard
Nous pouvons aussi faire l'opération dans l'autre sens en créant un fichier
 MIDI à partir d'un script Python.
 Pour cela, il suffit d'utiliser le Pattern crée par le script et d'utiliser
 la méthode 
\begin_inset Quotes fld
\end_inset

midi.write_file
\begin_inset Quotes frd
\end_inset

 de la manière suivante: 
\begin_inset Formula 
\[
\textrm{midi.write\_midifile("newMusique.mid", pattern)')	}
\]

\end_inset


\end_layout

\begin_layout Standard
Par cette commande, nous obtenons dans le répertoire courant un fichier
 MIDI que l'on peut écouter.
 
\end_layout

\begin_layout Paragraph
Conclusion
\end_layout

\begin_layout Standard
Nous avons à présent la possibilité de créer un fichier MIDI à partir d'un
 script python et réciproquement.
 Maintenant, nous avons comme objectif de créer ces scripts pour tous les
 fichiers que l'on dispose afin d'extraire, par la suite, les informations
 que l'on souhaite.
 
\end_layout

\begin_layout Subsection
Analyse des scripts
\end_layout

\begin_layout Standard
Nous avons besoin d'extraire des informations de types identiques pour chacune
 de nos données.
 Ainsi, nous avons lu la plupart de nos fichiers afin d'en déduire les informati
ons communes entre nos données mais aussi la façon dont sont écrits les
 fichiers afin de pouvoir lire automatiquement et identiquement tous nos
 fichiers.
 Nous avons alors détecté que tous les fichiers ont la même entête et qu'ils
 ont au moins 2 
\begin_inset Quotes fld
\end_inset

tracks
\begin_inset Quotes frd
\end_inset

 (pistes).
 De plus, les événements 
\begin_inset Quotes fld
\end_inset

NoteOnEvent
\begin_inset Quotes frd
\end_inset

 contiennent toujours le même nombre d'arguments comme suit: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\textrm{midi.NoteOnEvent(tick=160, channel=0, data=[62, 0])}
\]

\end_inset


\end_layout

\begin_layout Standard
Chaque tracks finissent de la même façon et tous les fichiers se terminent
 de la même manière.
 Les événements différents de NoteOnEvent sont optionnels et ne comportent
 pas d'informations essentielles pour joueur des notes.
 Nous avons alors décidé de récupérer les arguments pour tous les évenements
 NoteOnEvent de chaque fichier dont l'on dispose.
 
\end_layout

\begin_layout Standard
La valeur de 
\begin_inset Quotes fld
\end_inset

channel
\begin_inset Quotes frd
\end_inset

 est toujours nulle et ainsi nous ne tiendrons pas en compte cet argument.
 Nous prenons alors: 
\end_layout

\begin_layout Enumerate
Tick, représentant le temps.
\end_layout

\begin_layout Enumerate
Data1, représentant la note.
 
\end_layout

\begin_layout Enumerate
Data2, représentant la velocity.
 
\end_layout

\begin_layout Paragraph
Conclusion
\end_layout

\begin_layout Standard
Nous avons décidé de ne prendre en compte que les événements NoteOnEvent
 ainsi que les 3 valeurs les représentant.
 Nous allons alors devoir créer un programme qui extrait les 3 valeurs pour
 tous les événements NoteOnEvent pour tous nos fichiers.
 
\end_layout

\begin_layout Subsection
Extraction des informations
\end_layout

\begin_layout Standard
Vous trouverez le programme nommé 
\series bold

\begin_inset Quotes fld
\end_inset

creation_donnees.py
\begin_inset Quotes frd
\end_inset


\series default
 permettant d'extraire les informations en annexe.
 Ce programme permet d'abord de créer un script Python complet pour tous
 nos fichiers MIDI.
 Ensuite, il crée un deuxième script simplifié pour chacun de ces scripts,
 c'est-à-dire que ces nouveaux scripts ne contiennent seulement que les
 événements NoteOnEvent ainsi que seulement 2 tracks.
 Puis, à partir de ces scripts, le programme permet de créer des fichiers
 textes pour chaque script.
 Chaque fichier texte représente alors une musique et il y a autant de lignes
 qu'il y a d’événements NoteOnEvent.
 Chaque ligne contient les trois valeurs citées précédemment.
 Les noms des fichiers sont les titres de la musique qu'ils représentent.
 Par exemple, si on a le fichier MIDI 
\begin_inset Quotes fld
\end_inset

alb_esp1.txt
\begin_inset Quotes frd
\end_inset

: 
\end_layout

\begin_layout Enumerate
D'abord, le script complet est créé: 
\begin_inset Quotes fld
\end_inset

alb_esp1fMidiComplet.py
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Enumerate
Ensuite le script simplifié est créé: 
\begin_inset Quotes fld
\end_inset

alb_esp1fMidiSimple.py
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Enumerate
Enfin, le fichier test est créé : 
\begin_inset Quotes fld
\end_inset

alb_esp1.txt
\begin_inset Quotes frd
\end_inset

 qui commence de la sorte: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
240
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
60
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
240
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
81
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
66
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
..
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
..
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
..
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Section
Analyse de nos données
\end_layout

\begin_layout Subsection
Les données initiales
\end_layout

\begin_layout Standard
Nous avons maintenant 336 fichiers textes représentant chacun une musique
 unique et des nombres de lignes différents ainsi que des valeurs différentes
 selon les fichiers.
 Pour bien effecteur l'apprentissage, nous avons besoin d'analyser nos données.
 
\end_layout

\begin_layout Paragraph
Objectif
\end_layout

\begin_layout Standard
Le but est d'avoir le même nombre de notes pour les données de l'apprentissage
 et le même nombre de notes pour les notes du test.
 Aussi, nous devons éliminer les valeurs qui sont trop élevées afin que
 l'on puisse faire une normalisation efficace par la suite.
 
\end_layout

\begin_layout Paragraph
Analyse 
\end_layout

\begin_layout Standard
Vous trouverez le programme 
\begin_inset Quotes fld
\end_inset

analyse.py
\begin_inset Quotes frd
\end_inset

 qui nous a permis d'analyser nos données.
 Nous avons cherché par différents tests, les valeurs pour le 
\begin_inset Quotes fld
\end_inset

tick
\begin_inset Quotes frd
\end_inset

 et pour le nombre de lignes optimales afin de ne perdre le moins d'informations
 possibles.
 Aussi, nous voulions respecté le principe des 2/3 de données pour l'apprentissa
ge et 1/3 des données pour le test.
 
\end_layout

\begin_layout Standard
Voici les résultats de l'analyse pour le nombre de lignes et pour les valeurs
 des ticks:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Nombre de lignes
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
31 900
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
334
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 621
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 247
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="middle" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
supérieur à 2000 (inclus)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
242
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
compris entre à 440(inclus) et 2000
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
93
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Tick
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
155 520
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
85.7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
317.23
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
supérieur à 3800
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
289
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
inférieur à 3800 (inclus)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 552 563
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
En choisissant un nombre de lignes égale à 2000 pour l'apprentissage et
 un nombre de lignes égale à 440 pour les tests, nous obtenons 242 musiques
 pour l'apprentissage et 93 pour le test.
 Nous constatons que les valeurs des ticks sont très éparpillés et qu'il
 y a quelques valeurs aberrantes.
 En effet, seulement 289 ticks sont au dessus de 3800 alors que 99.9% des
 ticks sont inférieurs à 3800.
 
\end_layout

\begin_layout Standard
En écartant toutes les notes dont la valeur de 
\begin_inset Quotes fld
\end_inset

tick
\begin_inset Quotes frd
\end_inset

 est supérieur à 3800 et en respectant le nombre de lignes, nous obtenons:
 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Apprentissage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71%
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
241 musiques
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Test
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
29%
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
94 musiques
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
= 335
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
Seulement une seule musique sera alors exclue et était doté de seulement
 334 notes.
 
\end_layout

\begin_layout Standard
Voici l'analyse pour les deux autres valeurs: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Key
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
107
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
64.7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
13.40
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Velocity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
127
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25.4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
28.04
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
Les données partagées
\end_layout

\begin_layout Standard
Nous pouvons maintenant analyser les données que nous allons utiliser pour
 l'apprentissage et pour les tests.
 
\end_layout

\begin_layout Standard
Voici les résultats pour l'apprentissage et le test après avoir retiré les
 valeurs trop élevées ainsi qu'après le découpage des fichiers pour réduire
 le nombre de lignes: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="16" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Apprentissage + Test 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Apprentissage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Test
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Tick
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3780 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3780 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3720 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
84.15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
103.8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
82.47
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
168.49
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
211.3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
164.18
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Key
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
106 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
106 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
22
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70.42
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
69.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70.54
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
69.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10.16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10.24
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Velocity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Maximum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
127 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
110
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
127 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Minimum
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Moyenne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26.55
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25.502
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26.65
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Médiane
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Écart-type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
28.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
27.46
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
29.00
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph
Matrice de corrélation
\end_layout

\begin_layout Standard
Pour l'apprentissage: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/correlation.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Matrice de corrélation (Apprentissage)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour le test: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/correlationTest.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Matrice de corrélation (Test)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nous pouvons en déduire que les variables ne sont pas du tout corrélées.
 
\end_layout

\begin_layout Paragraph
Effectif (Key)
\end_layout

\begin_layout Standard
Pour l'apprentissage: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/key.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Key (Apprentissage)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour le test: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/keyTest.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Key (Test)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
On peut se rendre compte que peu importe l'échantillon, les 
\begin_inset Quotes fld
\end_inset

keys
\begin_inset Quotes frd
\end_inset

 pour les musiques classiques sont très centrées autour de 70.
 
\end_layout

\begin_layout Paragraph
Effectif (Velocity)
\end_layout

\begin_layout Standard
Pour l'apprentissage: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/velocity.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Velocity (Apprentissage)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour le test: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/velocityTest.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Velocity (Test)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
On remarque alors que les valeurs de la velocity sont relativement éparpillées
 mais plutôt centrées autour de 50.
 Cependant nous constatons un pic au niveau du 0 pour les deux échantillons.
 En effet, un événement NoteOnEvent possédant une velocity nulle correspond,
 en fait, à un événement NoteOffEvent.
 Le choix d'utiliser NoteOnEvent avec velocity null ou NoteOffEvent est
 laissé au créateur du fichier.
\end_layout

\begin_layout Paragraph
Effectif (Tick)
\end_layout

\begin_layout Standard
Pour l'apprentissage: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/tick.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Tick (Apprentissage)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour le test: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/tickTest.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Effectif Tick (Test)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
On remarque que les valeurs des ticks sont très étalées sur la gamme des
 valeurs possibles et qu'il n'y a pas vraiment de tendance.
 On constate tout de même un pic pour la valeur 0.
 
\end_layout

\begin_layout Paragraph
Conclusion
\end_layout

\begin_layout Standard
Nous avons remarqué que la musique classique a ses propres caractéristiques.
 En effet, pour les deux échantillons nous avons retrouvé les mêmes caractéristi
ques.
 Cependant les pics pour les effectifs pour la modalité 0 sont à prendre
 compte car ils pourraient avoir une influence sur le résultat final.
 Toutes ces remarques vont nous permettent de bien définir notre réseau
 de neurones ainsi que le choix de la normalisation.
\end_layout

\begin_layout Section
Normalisation de nos données
\end_layout

\begin_layout Standard
Afin de rester dans le domaine des fonctions d'activations et ayant des
 valeurs de données largement supérieures à 1 et, nous allons normaliser
 nos données sur l'intervalle 0 et 1.
 
\end_layout

\begin_layout Standard
Voici la normalisation que nous avons choisi de faire: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
x_{i}'=\frac{x_{i}-min(x)}{max(x)-min(x)}
\]

\end_inset


\end_layout

\begin_layout Standard
Elle permet de normaliser nos données sur l'intervalle [0,1].
\end_layout

\begin_layout Standard
Pour normaliser, nous avons créer un programme nommé 
\begin_inset Quotes fld
\end_inset

normalisation.py
\begin_inset Quotes frd
\end_inset

 que vous trouverez en annexe.
 Ce programme permet de lire tous les fichiers textes que nous avons crée
 et permet de normaliser tous les fichiers un par un.
 La normalisation se fait comme suit: 
\end_layout

\begin_layout Enumerate
\begin_inset Formula 
\[
tick_{i}'=\frac{tick_{i}-0}{3800-0}
\]

\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula 
\[
key_{i}'=\frac{key_{i}-0}{127-0}
\]

\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula 
\[
velocity_{i}'=\frac{velocity_{i}-0}{127-0}
\]

\end_inset


\end_layout

\begin_layout Standard
Ensuite, ce programme rassemble toutes les données dans un même fichier
 pour les données d'apprentissage et de tests.
 
\end_layout

\begin_layout Standard
Nous obtenons alors deux fichiers: 
\begin_inset Quotes fld
\end_inset

donneesNormalisees.txt
\begin_inset Quotes frd
\end_inset

 et 
\begin_inset Quotes fld
\end_inset

donneesTest.txt
\begin_inset Quotes frd
\end_inset

.
 
\end_layout

\begin_layout Paragraph
Conclusion
\end_layout

\begin_layout Standard
Nous avons, à présent, deux fichiers contenant nos données normalisées pour
 l'apprentissage et pour les tests.
 Il reste maintenant à créer le réseau de neurones et à faire l'apprentissage
 avec ces données.
 
\end_layout

\begin_layout Chapter
Composition musicale: le réseau de neurones
\end_layout

\begin_layout Standard

\shape italic
Nous allons définir dans cette partie l'architecture de notre réseau.
 Nous allons programmer un réseau de neurone récurrent.
 Dans cette partie, nous utiliserons le programme 
\begin_inset Quotes fld
\end_inset

main.py
\begin_inset Quotes frd
\end_inset

 que vous trouverez en annexe.
 Pour créer notre réseau, nous allons utiliser une bibliothèque Keras.
 Vous trouverez en annexe une description non exhaustive de celle-ci.
 
\end_layout

\begin_layout Section
Structure de données
\end_layout

\begin_layout Standard

\shape italic
Dans cette section, nous supposons qu'une séquence est de taille 10 mais
 cette valeur est arbitraire.
 
\end_layout

\begin_layout Standard
Pour l'entrainement, nous souhaitons que le réseau suive le modèle suivant:
 
\end_layout

\begin_layout Enumerate
Le réseau reçoit un tableau de notes en entrée et prend les 10 premières
 notes.
 
\end_layout

\begin_layout Enumerate
Le réseau prédit la note qui suit les 10 notes passées en entrée (la 11ème
 note).
 
\end_layout

\begin_layout Enumerate
Le réseau décale l'entrée d'un rang de 1 et prédit la note qui suit la note
 de l'étape 2.
\end_layout

\begin_layout Enumerate
etc...
 jusqu'à la fin de musique.
 
\end_layout

\begin_layout Standard
Pour cela, nous allons stocker nos données d'entrée dans un tableau de 3
 dimensions.
 La première dimension sera le nombre de séquences de taille 10 possibles
 par musiques.
 Nous rappelons que les musiques sont maintenant de même taille, c'est-à-dire
 qu'elles ont le même nombre de notes.
 La deuxième dimension représente la taille des séquences, c'est-à-dire
 10.
 Enfin, la troisième dimension sera le nombre de caractéristiques par note,
 c'est-à-dire 3 (tick, key et velocity).
 Ensuite, la sortie du réseau sera de dimension 2 avec les mêmes dimensions
 que les deux premiers de l'entrée.
 
\end_layout

\begin_layout Standard
Tout d'abord, nous avons deux fichiers: l'un contenant toutes les musiques
 pour l'apprentissage et l'autre pour le test.
 En utilisant une fonction 
\begin_inset Quotes fld
\end_inset

creationDonnees
\begin_inset Quotes frd
\end_inset

 définie dans notre programme, les fichiers sont lus et sont transformés
 en un tableau de 3 dimensions.
 Ainsi, nous obtenons: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Apprentissage
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Test
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
D3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
479 590
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40 420
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
479590 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sslash$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40 420
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\sslash$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
avec X le tableau pour l’entrée et Y pour la sortie.
 
\end_layout

\begin_layout Standard
Le réseau de neurones prendra alors une séquence de taille 10 en entrée.
 
\end_layout

\begin_layout Section
Le réseau récurrent avec LSTM
\end_layout

\begin_layout Subsection
Réseau de neurones récurrent
\end_layout

\begin_layout Subsection*
Présentation
\end_layout

\begin_layout Standard
Un réseau de neurone standard donne une valeur en sortie à partir d'une
 donnée en entrée.
 Cependant une telle représentation ne tient compte que d'une entrée à l'instant
 présent.
 Ce type de réseau ne peut donc pas apprendre de schémas ou de suites récurrente
s.
 Or, pour générer de la musique nous avons besoin que le réseau soit capable
 d'analyser un suite de note et de prévoir la note suivante en fonction
 de cette suite et non pas seulement de la dernière note.
 C'est pourquoi nous avons utilisé un réseau de neurones récurrent.
\end_layout

\begin_layout Standard
Dans un réseau de neurones récurrent (RNN 
\begin_inset Quotes fld
\end_inset

Recurent Neural Network
\begin_inset Quotes frd
\end_inset

), l'information peut se propager dans les deux sens.
 C'est à dire que l'information va des premières couches vers les couches
 profondes mais l'information sortant des couches profondes peut aussi devenir
 une entrée pour une première couche.
 Si l'information provient d'une couche plus profonde il s'agit alors d'une
 information passée puisqu'elle a été générée par l'entrée précédente (la
 suite de note précédente).
 Ainsi dans ce type de réseau une information peut être conservée 
\begin_inset Quotes fld
\end_inset

en mémoire
\begin_inset Quotes frd
\end_inset

 en étant réinjectée dans le réseau.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_1.PNG
	lyxscale 20
	scale 20

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_2.PNG
	lyxscale 20
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Réseau de neurones standard et récurrent
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
On peut avoir une représentation développée en fonction du temps 
\shape italic
t
\shape default
 :
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_3.PNG
	lyxscale 25
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Réseau de neurones récurrent développé
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
D'une façon plus générale on peut avoir une sortie du réseau différente
 de l'entrée qui sera réinjectée :
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_4.png
	lyxscale 20
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Réseau de neurone récurent général
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Un réseau de neurone récurrent standard (aussi appelé 
\begin_inset Quotes fld
\end_inset

Vanilla RNN
\begin_inset Quotes frd
\end_inset

 en anglais) peut être représenté ainsi :
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_5.png
	lyxscale 30
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Réseau de neurone récurrent standard
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection*
Problèmes du réseau de neurones récurrent standard
\end_layout

\begin_layout Itemize
Mémoire très court terme
\end_layout

\begin_layout Standard
Avec un tel réseau, une information qui serait importante ne sera pas sauvegardé
e de façon privilégiée par rapport aux entrées suivantes et précédentes.
 Aussi, cette information sera petit à petit oubliée, ou plus précisément,
 
\begin_inset Quotes fld
\end_inset

diluée
\begin_inset Quotes frd
\end_inset

 parmis les autres données.
 Les dernières informations auront donc plus de poids.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_6.png
	lyxscale 15
	scale 15

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mémoire à court terme
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Disparition du gradient
\end_layout

\begin_layout Standard
Les réseaux de neurones récurrents utilisent les fonctions d'activation
 sigmoïdes et peuvent donc conduire au problème de disparition du gradient.
\end_layout

\begin_layout Standard
En effet, la méthode du gradient fonctionne en analysant le changement,
 sur la sortie, impacté par un changement sur certains neurones.
 Or ce changement peut se trouver très faible à cause des fonctions d'activation
s sigmoïdes.
 Par exemple si l'entrée d'une sigmoïde tanh est 2 et qu'on la modifie en
 3 on observera un changement de seulement 0.03 environ et ça devient de
 plus en plus petit quand les nombres en entrée augmentent.
 Ainsi, le changement des poids sera compliqué si de nombreuses sigmoïdes
 sont présentes.
\end_layout

\begin_layout Standard
Dans le cas d'un réseau récurrent, les valeurs du temps présent ne passent
 pas par beaucoup de sigmoïdes puisqu'elles traversent le réseau une seule
 fois.
 Cependant, les valeurs passées traversent le réseau de nombreuses fois
 et vont donc être oubliées.
\end_layout

\begin_layout Standard
Remarque : Les fonctions d'activation ReLu ou hard sigmoïd ne sont pas affectées
 par ce problème.
\end_layout

\begin_layout Subsection
LSTM
\end_layout

\begin_layout Standard
Un LSTM (Long Short Term Memory) est un réseau de neurones récurrent composé
 de cellules de LSTM de la forme suivante :
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/RNN-LSTM/RNN_7.png
	lyxscale 20
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LSTM
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ce réseau permet de se souvenir d'informations importantes correspondant
 à une mémoire courte (informations sur l'instant présent) mais sur une
 longue période.
\end_layout

\begin_layout Standard
Le probème de disparition de gradient n'affecte pas le LSTM car les fonctions
 d'activation utilisées ne sont pas des sigmoïdes (sauf pour l'apprentissage)
 mais des fonctions logisitiques ou des fonctions ReLu.
\end_layout

\begin_layout Standard
Ainsi, ce type de réseau convient parfaitement à notre objectif puisqu'il
 permet de prédire une valeur en tenant compte d'une séquence passée en
 conservant les éléments importants de ces séquences.
\end_layout

\begin_layout Section
Les paramètres du modèle
\end_layout

\begin_layout Standard
Notre réseau a plusieurs paramètres (valeurs ayant une influence sur le
 modèle et qui sont modifiables sans que le programme ne rencontre de problèmes)
, qui sont: 
\end_layout

\begin_layout Enumerate
La taille de la séquence.
\end_layout

\begin_layout Enumerate
Le nombre d'itérations.
\end_layout

\begin_layout Enumerate
La taille du batch.
\end_layout

\begin_layout Enumerate
Le taux d'apprentissage.
\end_layout

\begin_layout Enumerate
Les fonctions d'activation.
\end_layout

\begin_layout Enumerate
\begin_inset Quotes fld
\end_inset

L'optimizer
\begin_inset Quotes frd
\end_inset

 et ses paramètres.
\end_layout

\begin_layout Enumerate
La fonction coût.
\end_layout

\begin_layout Enumerate
Les différentes couches et leur nombre de neurones.
\end_layout

\begin_layout Section
Les fonctions d'activations
\end_layout

\begin_layout Standard
Les fonctions d'activation permettent d'ajouter de la non-linéarité au réseau.
 La propriété de non-linéarité de la fonction d'activation est donc importante
 car si un réseau profond utilise n'utilise que des fonctions d'activation
 linéaires alors ce réseau est équivalent à un réseau à un réseau ne possédant
 q'une seule couche.
\end_layout

\begin_layout Standard
Il est aussi interressant que cette fonction soit différentiable afin de
 faciliter les calculs lors de l'algorithme du gradient conjugué.
 Cependant, ce n'est pas une condition nécessaire.
\end_layout

\begin_layout Subsection*
Fonction identité
\end_layout

\begin_layout Standard
La droite identié est la fonction y=x.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/identite.png
	lyxscale 50
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fonction identité
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Elle est utile dans les cas où le réseau correspond à une régression.
 Mais étant linéaire, elle ne peut pas être utilisée seule pour un réseau
 profond.
\end_layout

\begin_layout Subsection*
Fonction sigmoïd
\end_layout

\begin_layout Standard
Cette fonction permet de transformer son entrée en un nombre compris entre
 0 et 1.
 Elle peut donc s'interpréter comme l'activation (1) ou non (0) du neurone.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/sigmoide.png
	lyxscale 50
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fonction sigmoïd
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cependant, cette fonction peut conduire au problème de disparition du gradient.
\end_layout

\begin_layout Standard
De plus, la sigmoïd n'est pas centrée en 0 donc sa sortie sera toujours
 positive.
 Ainsi, le gradient sera soit toujours positif, soit toujours négatif ce
 qui rend plus difficile la rétro-propagation.
\end_layout

\begin_layout Subsection*
Fonction tanh
\end_layout

\begin_layout Standard
Cette fonction est très similaire à la sigmoïd mais est centrée en 0 et
 ne possède donc pas ce défaut par rapport à la sigmoïd.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/tanh.png
	lyxscale 50
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fonction tanh
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Néanmoins, tanh possède aussi le problème de disparition de gradient.
\end_layout

\begin_layout Subsection*
Fonction ReLU
\end_layout

\begin_layout Standard
Cette fonction permet de ne conserver que les informations importantes.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/relu.jpeg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fonction ReLu
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dans cet exemple de fonction ReLU, les informations considérées non importantes
 sont négatives et on conserve les sorties positives.
\end_layout

\begin_layout Standard
Cette fonction est très simple et permet d'éviter la disparition de gradient
 puisque cette fonction évolue avec une pente constante.
\end_layout

\begin_layout Standard
On utilisera donc cette fonction le plus souvent possible et spécialement
 dans les couches cachées comme nous l'avons vu avec le LSTM.
\end_layout

\begin_layout Subsection*
Fonction hard sigmoïd
\end_layout

\begin_layout Standard
Cette fonction est très similaire à la fonction ReLu mais son activation
 ne débute pas à 0.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/hard_sigmoid.png
	lyxscale 25
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fonction ReLu
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ainsi, pour notre réseau nous utiliserons des fonctions ReLU ou hard sigmoïd
 dans les couches cachées mais des tanh, sigmoïd ou identité pour les couches
 externes.
\end_layout

\begin_layout Section
Les 
\begin_inset Quotes fld
\end_inset

optimizers
\begin_inset Quotes frd
\end_inset


\end_layout

\begin_layout Standard
Les fonctions d'optimisation sont basées sur l'algorithme du gradient que
 nous avons vu précédemment.
\end_layout

\begin_layout Subsection*
Algorithme du gradient stochastique
\end_layout

\begin_layout Standard
Dans cette méthode, on considère la fonction à minimiser comme une somme
 de fonctions.
 Ces fonctions sont associées aux données.
 Ainsi, avec un vecteur en entrée de 10 composantes, il y aura 10 fonctions
 associées à ces observations.
\end_layout

\begin_layout Standard
Le gradient est approximé par le gradient de chaque fonction composant la
 somme.
 L'itération s'effectue comme dans la méthode du gradient.
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/sgd.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Itemize
lr 
\begin_inset Quotes fld
\end_inset

Learning Rate
\begin_inset Quotes frd
\end_inset

 correspond au taux d'apprentissage pour l'agorithme du gradient.
\end_layout

\begin_layout Standard
Nous utiliserons la valeur 0.01.
\end_layout

\begin_layout Itemize
momentum correspond à une amélioration de l'algorithme du gradient stochastique
\end_layout

\begin_layout Standard
Si le momentum vaut 0 alors on utilise l'algorithme classique.
 Sinon, l'algorithme utilisera la différence calculée lors de l'étape précédente
, la multipliera par le momentum et l'ajoutera à la différence calculée
 à l'étape présente.
 Cela permet donc d'accélérer l'algorithme en gardant en mémoire des information
s concernant l'itération précédente.
\end_layout

\begin_layout Itemize
decay permet de réduire la valeur du taux d'apprentissage au cours du temps
 (des itérations)
\end_layout

\begin_layout Standard
\begin_inset Formula $lr:=lr\times\frac{1}{1+decay\times iterations}$
\end_inset


\end_layout

\begin_layout Itemize
nesterov correspond à une autre façon d'utiliser le momentum
\end_layout

\begin_layout Subsection*
Root Mean Square Propagation (RMSprop)
\end_layout

\begin_layout Standard
Dans cette méthode, le taux d'apprentissage est adapté selon les paramètres.
 Ainsi, le taux d'apprentissage est augmenté pour les données dispersées
 mais réduit pour les données centrées.
\end_layout

\begin_layout Standard
Ainsi, cette méthode permet d'améliorer la reconnaissance lorsque les données
 importantes sont dispersées.
\end_layout

\begin_layout Section
Les fonctions coûts
\end_layout

\begin_layout Standard
L'objectif de ces fonctions est de donner une valeur à l'écart entre la
 valeur obtenue par le réseau et la valeur que l'on attendait.
\end_layout

\begin_layout Standard
Ici 
\begin_inset Formula $y_{pred}$
\end_inset

 représente la prédiciton que le réseau a effectué et 
\begin_inset Formula $y$
\end_inset

 la valeur que l'on attendait.
\end_layout

\begin_layout Subsection*
Erreur quadratique moyenne
\end_layout

\begin_layout Standard
C'est la fonction que nous utilisons pour entrainer notre réseau.
\end_layout

\begin_layout Standard
\begin_inset Formula $EQM(y_{pred})=moyenne((y_{pred}-y)^{2})$
\end_inset


\end_layout

\begin_layout Subsection*
Erreur moyenne absolue
\end_layout

\begin_layout Standard
Cette fonction ressemble beaucoup à la précédente.
\end_layout

\begin_layout Standard
\begin_inset Formula $EMA(y_{pred})=moyenne(\left|y_{pred}-y\right|)$
\end_inset


\end_layout

\begin_layout Subsection*
Hinge
\end_layout

\begin_layout Standard
Cette fonction est utilisée pour entrainer un réseau de neurone de classificatio
n.
\end_layout

\begin_layout Standard
\begin_inset Formula $hinge(y_{pred})=max(0,1-y\times y_{pred})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Il existe d'autres fonctions mais l'EQM correspond à notre cas d'étude puisque
 nous ne sommes pas dans une catégorisation.
\end_layout

\begin_layout Section
L'architecture du réseau: les couches
\end_layout

\begin_layout Standard
Nous avons utilisé un réseau utilisant le LSTM puisque c'est un réseau qui
 correspond à nos besoins : il permet de baser la prédiction sur une séquence
 de notes et non sur une seule et permet de ne pas oublier de notes trop
 éloignées dans le temps.
\end_layout

\begin_layout Standard
Afin d'éviter le suraprentissage nous avons aussi ajouté une deuxième couche
 appelée dropout.
 Cette couche est dense mais place à 0 certains de ses poids choisis aléatoireme
nt à chaque itération.
 Ainsi, le réseau ne peut pas 
\begin_inset Quotes fld
\end_inset

apprendre par coeur
\begin_inset Quotes frd
\end_inset

 puisqu'à chaque itération des informations aléatoires lui sont retirées.
\end_layout

\begin_layout Standard
Nous avons ajouté une couche dense afin de baser la prédiction sur toutes
 les données 
\begin_inset Quotes fld
\end_inset

mélangées
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/modeles/modele.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Création du réseau de neurones
\end_layout

\begin_layout Standard
Nous allons donc utiliser la bibliothèque Keras pour créer notre réseau.
 Tout d'abord, dans la première section, nous avons défini comment nous
 avons transformé nos données.
 Rappelons alors que nous avec deux tableaux d'entrées x (apprentissage)
 et x_test ainsi que deux tableaux sorties y (apprentissage) et y_test.
 Il faut à présent le réseau.
 Voici les paramètres que notre réseau utilise: 
\end_layout

\begin_layout Enumerate
taille_sequence = 10
\end_layout

\begin_layout Enumerate
note_dim = 3
\end_layout

\begin_layout Enumerate
nb_chanson = 241
\end_layout

\begin_layout Enumerate
nbNotes_par_chanson = 2000
\end_layout

\begin_layout Enumerate
echantillons_par_chanson = nbNotes_par_chanson - taille_sequence
\end_layout

\begin_layout Enumerate
nb_echantillon = nb_chanson*echantillons_par_chanson
\end_layout

\begin_layout Enumerate
batch_size = 15.
 Cette valeur peut varier et représente le nombre d'exemples qui est propagé
 à travers le réseau.
 Par exemple, si le batch vaut 15, alors le réseau prend les 15 premiers
 exemples et entraine le réseau avec ces derniers.
 Puis il prend les 15 suivants et ainsi de suite...
\end_layout

\begin_layout Enumerate
epochs, le nombre d'itérations.
 
\end_layout

\begin_layout Enumerate
taux_apprentissage
\end_layout

\begin_layout Enumerate
opt permet de définir le l'optimizer.
 
\end_layout

\begin_layout Enumerate
cout permet de définir la fonction coût.
 
\end_layout

\begin_layout Enumerate
nb_chanson_test
\end_layout

\begin_layout Enumerate
nbNotes_par_chanson_test
\end_layout

\begin_layout Standard
Ensuite, il suffit de créer un modèle en lui ajoutant une plusieurs couches
 avec des fonctions d'activations et un nombre de neurones défini.
 Etant donné que nous avons fait varier les paramètres, nous n'avons pas
 un modèle pré-défini car nous avons fait plusieurs modèles.
 Tous les modèles ont été néanmoins tous sauvegardés sous la forme d'un
 fichier HDF5 (Hierarchical Data Format).
 Le fichier HDF5 est un conteneur de fichier est permet de sauvegarder et
 de structurer des fichiers contenant de très grandes quantités de données.
 Ainsi dans le modèle sous ce format, nous pouvons retrouver toutes les
 définitions des couches et toutes les valeurs des poids par couche.
 Les fichiers HDF5 peuvent être visualiser avec le logiciel HDFView.
 
\end_layout

\begin_layout Standard
Seule la couche d'entrée reste la même et définie de la sorte: 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\textrm{model.add(LSTM(taille\_sequence, input\_shape=(taille\_sequence, note\_dim),return\_sequences=True))}
\]

\end_inset


\end_layout

\begin_layout Standard
Une fois que l'on a ajouté toutes les couches nécessaires, nous avons besoin
 d'appeler la fonction suivante afin de commencer l'apprentissage: 
\begin_inset Formula 
\[
\textrm{model.fit(x,y,verbose=1, validation\_data=(x\_test, y\_test),batch\_size=batch\_size, epochs=epochs)}
\]

\end_inset


\end_layout

\begin_layout Standard
En exécutant cette fonction, on obtient sur le terminal: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/main.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exécution du programme 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Le tableau affiché permet de résumer les informations sur le modèle implémenté.
 Ensuite, le programme nous indique le nombre de paramètres pris en compte
 pour le modèle.
 Puis nous pouvons voir le nombre d'exemples pour l'apprentissage et pour
 les tests de validation.
 Enfin, les itérations peuvent commencer (
\begin_inset Quotes fld
\end_inset

Epoch 1/10
\begin_inset Quotes frd
\end_inset

).
 La dernière ligne sur l'image indique le temps d’exécution restant avant
 la fin de l'itération et indique la valeur de la fonction coût ainsi que
 la précision du modèle.
 
\end_layout

\begin_layout Chapter
Analyse et Test du réseau de neurones
\end_layout

\begin_layout Standard

\shape italic
Dans ce chapitre, nous allons tester différents types de réseau de neurones
 afin de trouver le modèle qui s'adapte au mieux à nos données.
 Nous utilisons toujours le programme 
\begin_inset Quotes fld
\end_inset

main.py
\begin_inset Quotes frd
\end_inset

.
 Nous utilisons ausis le programme 
\begin_inset Quotes fld
\end_inset

prediction.py
\begin_inset Quotes frd
\end_inset

 afin d'analyser le résultat du modèle.
 Nous expliquerons ce programme dans le chapitre suivant.
 
\end_layout

\begin_layout Standard
Après plusieurs tests, nous avons choisi d'utiliser les paramètres suivants
 pour le réseau :
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="8">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Optimisation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
coût
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
taille séquence
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
taille batch
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nombre epochs
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
taux apprentissage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
taux decay
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
patience
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SGD
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EQM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.01
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.001
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Itemize
Optimisation : l'algorithme d'optimisation.
 Nous utiliserons surtout la descente de gradient stochastique et le RMSprop
\end_layout

\begin_layout Itemize
coût : la fonction de coût utilisée.
 Nous utiliserons surtout l'EQM.
\end_layout

\begin_layout Itemize
taille séquence : le nombre de notes en entrée
\end_layout

\begin_layout Itemize
taille batch : le nombre de séquences utilisées pour 1 itération d'entrainement
 du réseau
\end_layout

\begin_layout Itemize
nombre epochs : le nombre d'itérations pour l'entrainement du réseau
\end_layout

\begin_layout Itemize
taux apprentissage : paramètre de l'algorithme du gradient
\end_layout

\begin_layout Itemize
taux decay : permet de réduire le taux d'apprentissage au cours du temps
\end_layout

\begin_layout Itemize
patience : nombre d'epochs au bout duquel, s'il n'y a pas eu d'amélioration
 de la précisison, on arrête l'algorithme du gradient
\end_layout

\begin_layout Standard
Ce sont les paramètres que nous avons utilisés et il sera précisé si un
 de ces paramètres est modifié, ou si un paramètre supplémentaire est ajouté,
 dans la colonne 
\begin_inset Quotes fld
\end_inset

paramètre supplémentaire
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Section
Modèle LSTM
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele7.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle LSTM 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nous avons essayé le modèle LSTM dans différentes configurations.
\end_layout

\begin_layout Standard
La fonction d'activation :
\end_layout

\begin_layout Itemize
linear
\end_layout

\begin_layout Itemize
softmax
\end_layout

\begin_layout Itemize
tanh
\end_layout

\begin_layout Standard
La fonction d'activation récurrente :
\end_layout

\begin_layout Itemize
tanh
\end_layout

\begin_layout Itemize
ReLU
\end_layout

\begin_layout Itemize
Hard Sigmoïd
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
activation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paramètre supplémentaire
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
activation récurrente
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
linear
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ReLU
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.1299
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0072
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SoftMax
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ReLU
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.1162
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0489
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0167
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dropout = 0.2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0176
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele7_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele7_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele8_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele8_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele10_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele10_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele9_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM/modele9_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
On observe que les résultats obtenus avec les fonctions d'activation linear
 et softmax sont très mauvais.
 Par contre le réseau utilisant une sigmoïd donne de bien meilleurs résultats.
\end_layout

\begin_layout Standard
Nous avons donc conservé le 3eme réseau comme réseau de référence bien que
 le résultat ne soit pas bon.
 En effet, plusieurs notes sont jouées en même temps créant un accord qui
 n'est pas agréable à l'écoute.
\end_layout

\begin_layout Standard
L'ajout d'un dropout interne au LSTM semble remédier à ce problème bien
 que les notes générées par ce réseau ont un tempo très élevé et répétitives.
\end_layout

\begin_layout Section
Modèle LSTM + Dense
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele11.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle LSTM + Dense
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Afin d'être sûr que le résultat finale prenne bien en compte tous les neurones
 du réseau, nous utilisons une couche dense supplémentaire.
\end_layout

\begin_layout Standard
Nous avons testé avec plusieurs activations pour le réseau dense
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation LSTM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation récurrente
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dense
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paramètre supplémentaire
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linear
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0156
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dropout = 0.2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0183
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dropout = 0.2 , RMSProp
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0148
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9460
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dropout = 0.2 , RMSProp
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0143
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
erreur moyenne absolue
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.088 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.949
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
Les deux derniers modèles sont identiques et on observe tout de même une
 différence de précision.
 Cela provient du dropout qui ajouter une dose d'aléatoire.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele5_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele5_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele5_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele5_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele14_rms_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele14_rms_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele14_rms(2)_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense/modele5_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_absolute_error/LSTM+Dense/modele3_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_absolute_error/LSTM+Dense/modele3_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Avec l'activation linéaire, les notes prédites avec notre fichier de test
 ont un tempo lent et sont de plus en plus grave.
 Par contre avec les réseaux contenant une couche dense d'activation sigmoïde
 les notes prédites ont un tempo plus élevé et varient entre grave et aigue
 mais sont troujours très répétitives.
\end_layout

\begin_layout Standard
La méthode RMSprop procure des résultats très bons et rapidement car l'algorithm
e du gradient s'est arrêté plus tôt (avec le paramêtre patience).
 Les résultats étant différents c'est à l'écoute que l'on estimera la différence.
\end_layout

\begin_layout Section
Modèle LSTM+Activation
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Activation/modele6.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle LSTM 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation LSTM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation récurrente
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linear
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0179
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Activation/modele6_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Activation/modele6_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nous avons testé un réseau LSTM avec une couche de sortie possédant une
 activation linéaire afin de voir son impact.
\end_layout

\begin_layout Standard
Les notes ont un tempo assez lent et sont de plus en plus grave.
 L'activation linéaire semble donc générer ce genre de son puisque nous
 avons déjà eu ce cas dans la partie précédente.
\end_layout

\begin_layout Standard
Nous avons donc décidé d'écarter l'activation linéaire.
\end_layout

\begin_layout Section
Modèle LSTM + Dense + Activation
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dense+Activation/modele4.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèle LSTM + Dense + Activation
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation LSTM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation récurrente
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dense
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paramètre supplémentaire
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SoftMax
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0307
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SoftMax
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
erreur moyenne absolue
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.1474
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_absolute_error/LSTM+Dense+Activation/modele4_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_absolute_error/LSTM+Dense+Activation/modele4_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cette configuration nous donne un résultat au tempo très lent et dont les
 notes sont très répétitives.
\end_layout

\begin_layout Section
Modèle LSTM + Dropout + LSTM + Dropout + Dense + Activation
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+Dropout+LSTM+Dropout+Dense+Activation/modele2.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LSTM + Dropout + LSTM + Dropout + Dense + Activation
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dense
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sigmoid
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SoftMax
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0308
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
Nous avons essayer de placer deux couches LSTM à la suite afin d'augmenter
 la précision de la prédiction.
 Cependant, avec ce réseau, la prédiction semble être toujours la même note.
 Ce phénomène est peut être dû à l'enchainement Dense(sigmoïde) et Activation(So
ftMax) puisque nous avions un résultat comparable avec le modèle précédent.
\end_layout

\begin_layout Section
Modèle LSTM + LSTM
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Activation récurrente
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_loss
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
val_acc
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tanh
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hard Sigmoïd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0182
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.9498
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+LSTM/modele12_cout.png
	lyxscale 50
	scale 40

\end_inset


\begin_inset Graphics
	filename ../Programme_1/modeles/mean_squared_error/LSTM+LSTM/modele12_precision.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graphiques de coût et précision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dans ce modèle, nous avons toujours des dropout mais inclus aux LSTM et
 de valeur 0.2.
 Nous avons retiré les couches Dense et Activation du modèle précédent.
 Ainsi, les notes générées ne sont plus les même mais on obtient un tempo
 très élevé.
\end_layout

\begin_layout Section
Conclusion
\end_layout

\begin_layout Standard
Avec ces expérimentations sur les modèles, nous pouvons retenir plusieurs
 chose :
\end_layout

\begin_layout Itemize
Les fonctions d'activation linéaires ne semblent pas convenir pour notre
 cas.
 En effet, si elles sont utilisées comme activation d’entraînement du LSTM
 ou pour une couche Dense alors les résultats sont très mauvais.
 Le résultat semble correct lorsque l'on utilise une couche d'activation
 linéaire cependant.
\end_layout

\begin_layout Itemize
La hard sigmoïd et tanh semblent efficaces en tant que fonction d'activation
 récursive et fonction d'activation pour le réseau LSTM.
 De plus, ce sont des fonctions qui permettent au réseau de ne pas souffrir
 de la disparition du gradient.
\end_layout

\begin_layout Itemize
La méthode RMSprop semble donner de bon résultats très rapidement (l'écoute
 permettra de savoir si ces résultats sont les résultats attendus).
\end_layout

\begin_layout Chapter
Prédiction avec le réseau de neurones
\end_layout

\begin_layout Standard

\shape italic
Dans cette partie, nous allons expliquer comment prédire des données avec
 nos programmes et notre réseau de neurones.
 
\end_layout

\begin_layout Section
Création de la prédiction
\end_layout

\begin_layout Standard
Pour la création des prédictions, nous avons créé le programme 
\begin_inset Quotes fld
\end_inset

prediction.py
\begin_inset Quotes frd
\end_inset

 que vous trouverez en annexe.
 Ce programme permet de charger le modèle de notre réseau de neurones et
 de lire un fichier dans lequel nous avons mis 10 notes (ticks, keys, velocity).
 Le programme normalise ensuite le fichier et le transforme en un tableau
 à 3 dimensions.
 Ensuite, le programme créé plusieurs prédictions grâce à la fonction 
\begin_inset Quotes fld
\end_inset

model.predict(x)
\begin_inset Quotes frd
\end_inset

 de la bibliothèque Keras.
 Il y a un seul paramètre qui peut être changé: c'est le nombre de notes
 pour la chanson.
 Notre programme fonctionne sur le même principe que le réseau de neurones,
 c'est-à-dire qu'il lit 10 notes et prédit la 11ème.
 Ensuite, il utilise les 10 notes après la première pour en prédire la 12ème
 etc...
\end_layout

\begin_layout Standard
Une fois que plusieurs notes ont été créées, le programme ajoute ces notes
 aux notes précédentes et les dé normalisent avec le programme nommé 
\begin_inset Quotes fld
\end_inset

denormalisation.py
\begin_inset Quotes frd
\end_inset

 que vous trouverez en annexe.
 
\end_layout

\begin_layout Section
Lecture de la prédiction
\end_layout

\begin_layout Standard
Afin de pouvoir créer de la musique, le programme lit les notes dé-normalisées
 qui ont été prédites et les utilisent pour créer de la musique.
 
\end_layout

\begin_layout Standard
Pour cela, nous avons fait un programme 
\begin_inset Quotes fld
\end_inset

creation_MIDI
\begin_inset Quotes frd
\end_inset

, que vous trouverez en annexe, qui à partir d'un fichier contenant des
 valeurs de ticks, keys et velocity créer un script Python pour ensuite
 l’exécuter afin de créer un fichier MIDI.
 Ce fichier est ensuite lu grâce au logiciel 
\begin_inset Quotes fld
\end_inset

timidity
\begin_inset Quotes frd
\end_inset

 et ainsi nous pouvons directement écouter le résultat.
 
\end_layout

\begin_layout Section
Résultats
\end_layout

\begin_layout Standard
Nous avons testé tous nos programmes avec les mêmes 10 premières notes.
 Nous avons commenté les résultats dans la partie précédente.
 Nous allons prendre deux modèles pour illustrer en détails deux de ces
 résultats.
 Pour comparer les résultats pour un même modèle, nous allons utilisé deux
 musiques différentes.
 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1ere musique (debussy_cc_2)
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2ème musique ()
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
56
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
360
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1440
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
63
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
120
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
33
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
480
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1440
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
360
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
53
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1440
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
120
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
68
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
Les deux modèles que l'on utilisera sont de forme: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Images/modele5.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Modèles
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pour le modèle 1, la dernière couche a comme fonction d'activation 
\begin_inset Quotes fld
\end_inset

linear
\begin_inset Quotes frd
\end_inset

 et pour le modèle 2, la fonction 
\begin_inset Quotes fld
\end_inset

sigmoid
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Standard
Pour la première musique en prédisant 40 notes: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1ere modèle
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2ème modèle
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
45
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
28
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
49
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
58
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
58
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
118
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
58
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
23
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
34
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
59
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
122
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
59
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
34
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
31
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
60
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
114
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
42
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
60
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
37
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
..
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
..
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72-78
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
66..70
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26/27
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74 ou 72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 ou 7
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
On peut voir qu'à partir d'une certaine note, les notes ont tendance à se
 répéter et à créer une sorte d'alternance entre 2 valeurs de notes.
 On peut aussi remarquer que les deux modèles prédisent des notes totalement
 différentes.
 
\end_layout

\begin_layout Standard
Pour la deuxième musique, on obtient:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1ere modèle
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2ème modèle
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
84
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
29
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
19
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
36
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
66
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
135
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
27
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
67
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
170
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70..80
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70..72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26..27
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
34/120
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
...
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1/10
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
Pour cette deuxième musique, les résultats ne sont pas bons.
 Il y a trop de répétitions.
 
\end_layout

\begin_layout Standard
A l'écoute, la prédiction de la première musique n'est pas désagréable mais
 ne correspond pas aux résultats attendus en comparant avec les notes réelles
 de la musique.
 Les notes ont tendances à monter crescendo.
 Pour la deuxième musique, les résultats sont relativement inaudible.
 
\end_layout

\begin_layout Section
Conclusion
\end_layout

\begin_layout Standard
Après avoir créé plusieurs réseaux de neurones, nous avons testé les modèles
 en faisant des prédictions sur des notes arbitraires.
 Nous nous sommes rendus compte que les résultats ne sont pas satisfaisant
 car les notes ont tendance à se répéter ou ne pas créer d'harmonie.
 Cependant, le réseau prédit bel et bien des notes qui sont différentes
 selon les notes passées en entrée, et cela était notre principal objectif.
\end_layout

\begin_layout Chapter*
Conclusion
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{chapter}{
\backslash
protect
\backslash
numberline{}Conclusion}
\end_layout

\end_inset


\end_layout

\begin_layout Section*
Les difficultés
\end_layout

\begin_layout Section*
Les bénéfices
\end_layout

\begin_layout Section*
Ouverture
\end_layout

\begin_layout Chapter*
Sources
\end_layout

\begin_layout Subsection*
Sources concernant les réseaux de neurones
\end_layout

\begin_layout Enumerate
\begin_inset Quotes fld
\end_inset

Réseaux de neurones: introduction et applications
\begin_inset Quotes frd
\end_inset

, vidéo présenté par Joseph Ghafari.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.youtube.com/watch?v=KVNhk6uGmr8}
\end_layout

\end_inset

 
\end_layout

\begin_layout Enumerate
Site web relatant un projet sur la composition musicale par réseaux de neurones,
 par Daniel Johnson.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{http://www.hexahedria.com/2015/08/03/composing-music-with-recurrent-neural-net
works/ }
\end_layout

\end_inset

 
\end_layout

\begin_layout Enumerate
\begin_inset Quotes fld
\end_inset


\bar under
Apprentissage statistique
\bar default

\begin_inset Quotes frd
\end_inset

 , écrit par Gerard Dreyfus et édité par Eyrolles (2008).
 
\end_layout

\begin_layout Enumerate
\begin_inset Quotes fld
\end_inset

Can a deep neural network compose music?
\begin_inset Quotes frd
\end_inset

, article écrit par Justin Svegliato pour le blog 
\begin_inset Quotes fld
\end_inset

Medium.com
\begin_inset Quotes frd
\end_inset

.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://medium.com/towards-data-science/can-a-deep-neural-network-compose-mus
ic-f89b6ba4978d}
\end_layout

\end_inset

 
\end_layout

\begin_layout Enumerate
\begin_inset Quotes fld
\end_inset

Intelligence Artificielle
\begin_inset Quotes frd
\end_inset

, ensemble de vidéos présenté par Hugo Larochelle professeur à l'Université
 de Sherbrooke.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.youtube.com/watch?v=stuU2TK3t0Q&list=PL6Xpj9I5qXYGhsvMWM53ZLfwUInz
vYWsm}
\end_layout

\end_inset

 
\end_layout

\begin_layout Enumerate
LSTM
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.youtube.com/watch?v=WCUNPb-5EYI}
\end_layout

\end_inset

 
\end_layout

\begin_layout Subsection*
Sources concernant les bibliothèques Python (Keras)
\end_layout

\begin_layout Enumerate
\noindent
\align left
Le modèle séquentiel 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://keras.io/getting-started/sequential-model-guide/}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Les fonctions d'activation 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://keras.io/activations/}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Les méthodes d'optimisation 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://keras.io/optimizers/}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Les fonctions de coût 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://keras.io/losses/}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Tuto pour utiliser Keras 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://machinelearningmastery.com/tutorial-first-neural-network-python-keras
/}
\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
Sources concernant les fichiers MIDI
\end_layout

\begin_layout Enumerate
Spécifications MIDI : 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://web.archive.org/web/20120317213145/http://www.sonicspot.com/guide/midifi
les.html}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Norme MIDI et les fichiers MIDI : 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{http://www.jchr.be/linux/format-midi.htm}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
\noindent
\align left
Standard MIDI-File Format Spec : 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{http://www.music.mcgill.ca/~ich/classes/mumt306/StandardMIDIfileformat.html}
\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
The MIDI File Format : 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.csie.ntu.edu.tw/~r92092/ref/midi/}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
appendix
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Les fichiers MIDI
\end_layout

\begin_layout Section
Les fichiers MIDI
\end_layout

\begin_layout Standard
Un fichier MIDI (Musical Instrument Digital Interface), contrairement au
 fichier audio, ne contient aucun son, à proprement parler, mais une série
 de 
\begin_inset Quotes fld
\end_inset

directives
\begin_inset Quotes frd
\end_inset

 que seul un instrument compatible MIDI peut comprendre.
 L’instrument MIDI d’après les 
\begin_inset Quotes fld
\end_inset

consignes
\begin_inset Quotes frd
\end_inset

 contenues dans le fichier MIDI peut alors produire le son.
 
\end_layout

\begin_layout Paragraph
Fréquences 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{http://newt.phys.unsw.edu.au/jw/notes.html}
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Un fichier MIDI est composé d'un en-tête et d'un corps de fichier.
 L'en-tête décrit des informations nécessaires à la lecture du fichier.
 
\end_layout

\begin_layout Standard
Le corps du fichier est composé d'une ou plusieurs pistes.
 
\end_layout

\begin_layout Standard
Les fichiers MIDI sont des fichiers binaires : les données sont stockées
 en format binaire et non codées (texte, objets etc)
\end_layout

\begin_layout Section
En-tête des fichiers MIDI
\end_layout

\begin_layout Paragraph
Structure de l'en-tête
\end_layout

\begin_layout Standard
L’en-tête début toujours par les 4 octets x4D 54 68 64.
 Nous pouvons interpréter ces octets par la table ASCII où chaque octet
 est associé à un caractère de l’alphabet anglais.
 Nous trouvons 4D = M et de même pour les autres nombres.
 Finalement, l’en-tête débute toujours par les caractères MThd.
\end_layout

\begin_layout Standard
L’entête est de 14 octets (taille fixe) tel que récapitulé dans le tableau
 ci-dessous :
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x4D 54 68 64 (MThd)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
xN (Taille des données <D>)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<D> Données (exemple: format, piste, division)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Structure de l'en-tête
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Puisque l’en-tête est de taille fixe, N vaut toujours 14-(4+4) = 6 octets.
 La valeur dans le champs de 4 octets sera donc xN = x00 00 00 06.
\end_layout

\begin_layout Standard
L’en-tête décrit trois données : <format>, le format de fichier MIDI, <pistes>
 le nombre de pistes contenues dans le fichier, et <division> l’interval
 de temps.
 
\end_layout

\begin_layout Standard
On peut donc représenter l’en-tête de cette façon:
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chunk
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Taille
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Données
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
taille (= 6 octets)
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 octets
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 octets
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<format>
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<nbPistes>
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<division>
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Représentation de l'en-tête
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
Les formats MIDI
\end_layout

\begin_layout Standard
Il existe trois formats de fichiers MIDI, décrits par les numéros 0, 1 et
 2.
\end_layout

\begin_layout Standard
Le premier format (0) est le plus simple : le fichier ne présente qu’une
 seule piste.
 Le second format (1) décrit un fichier MIDI possédant une ou plusieurs
 piste pouvant être jouées simultanément.
\end_layout

\begin_layout Standard
Le troisième format (2) indique que le fichier MIDI possède une ou plusieurs
 pistes indépendantes.
 
\end_layout

\begin_layout Standard
→ Les fichiers MIDI que nous avons à interpréter sont présentés au format
 1.
\end_layout

\begin_layout Paragraph
Les pistes MIDI
\end_layout

\begin_layout Standard
Une piste MIDI est une suite d'événements tels que "La note est jouée" (événemen
t MIDI).
 Ces pistes constituent donc la musique en elle-même.
 Cependant, les pistes peuvent aussi contenir des informations telles que
 le titre de la musique ou encore le copyright (Meta événement).
\end_layout

\begin_layout Paragraph
La division MIDI
\end_layout

\begin_layout Standard
La division MIDI permet de définir la durée du delta-time, le delta time
 définissant l’attente entre la lecture de deux événements (entre deux notes
 par exemple ou la durée d'appuie d'une note).
\end_layout

\begin_layout Paragraph
Exemple d'en-tête
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename MIDI images/exemple_enTete.png
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple d'en-tête complet
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
La donnée “division” s’interprète différemment selon la valeur de son 15ème
 bit (c’est à dire le 1er bit en partant de la gauche).
 On appelle ce bit le MSB (Most Significant Bit).
 Dans l’exemple précédent ce bit vaut 0 : x01E0 = 
\series bold
0
\series default
000 0001 1110 0000
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dans ce cas on a le tableau suviant:
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="17">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
13
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hex
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
E
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bin
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
000000111100000
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset

 = 480 delta-time par quart de ronde
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Division cas MSB=0
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dans le cas om le MSB vaut 1 on a :
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="17">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bin
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0000001
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset

=1 image par seconde
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11100000
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset

 = 224 delta-time par image
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Division cas MSB=1
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
→ Les fichiers MIDI que nous avons à interpréter sont présentés de la 1ère
 façon (15ème bit à 0).
 Nous avons besoin de ces informations pour interpréter correctement le
 rythme de la musique décrite dans le corps du fichier.
 En effet, un nombre de delta-time nous indiquera le temps entre deux événements.
\end_layout

\begin_layout Section
Corps des fichiers
\end_layout

\begin_layout Paragraph
Représentation du corps
\end_layout

\begin_layout Standard
Le corps du texte s’articule d’une façon similaire à l’en-tête : il commence
 toujours par "MTrk", qui est également suivi de 4 octets précisant la taille
 des données en question.
 Ces données, cependant, ne sont pas de même nature que dans l’en-tête :
 elles sont constituée d’une suite d'événements MIDI, SYSEX ou META ainsi
 qu’un nombre de delta-time associé
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Piste
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Taille
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Données
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4 octets
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 N octets 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MTrk
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<N>
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
<delta-time> <événements>
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Représentation du corps de fichier
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Le delta-time, équivalent au nombre de ticks, correspond au temps écoulé
 après la piste précédente avant de jouer/lire cette piste.
 Par exemple, la première piste contiendra souvent le nom de la musique
 et sera lue dès le départ afin d’afficher ce titre.
 Son nombre de ticks sera donc de 0.
\end_layout

\begin_layout Paragraph
Exemple de début de piste
\end_layout

\begin_layout Standard
Dans cet exemple on représente le début de la piste (partie gauche du tableau),
 il s'agit d'un en-tête pour la piste.
 On représente ensuite un exemple de meta événement que l'on verra dans
 la partie suivante.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename MIDI images/exemple_piste.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple de piste
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cet exemple est bien sûr incomplet puisque la piste doit finir par un événement
 spécial qui marque la fin de piste.
\end_layout

\begin_layout Standard

\series bold
Variable Length Quantity (VLQ)
\series default
:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://en.wikipedia.org/wiki/VLQ}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Le but est de récupérer une donnée relative à une variable de plus de 1
 octet, ne sachant qu’au fur et à mesure de la lecture le nombre de caractères
 sur laquelle cette donnée est codée.
 Pour cela, à chaque octet (cela correspond à deux caractères dans le fichier
 MIDI), par le premier bit de l’octet, on sait si l’octet suivant sera également
 relatif à la donnée en question.
 Ce premier bit est appelé le Most Significant Bit (MSB).
 Le premier bit de chaque octet n’est donc pas compris dans les données
 à récupérer.
 Si celui-ci est de 0, uniquement l’octet en question correspondra à la
 donnée à récupérer, si celui-ci est de 1, l’octet en cours (sauf le premier
 bit) et le suivant (sauf le premier bit), est réservée pour le codage de
 la variable et ainsi de suite.
 
\end_layout

\begin_layout Section
Les événements MIDI
\end_layout

\begin_layout Paragraph
Meta événements
\end_layout

\begin_layout Standard
Les métadonnées donnent des informations sur la partition.
\end_layout

\begin_layout Standard
Un meta événement débute toujours par l'octet xFF et est de la forme :
\end_layout

\begin_layout Standard
\align center
FF <type de meta événement> <taille des données> <données> 
\end_layout

\begin_layout Standard
Par exemple, un meta événement de type 3 donne des informations sur le nom
 de la piste, c'est à dire que les données de ce meta événement seront interprét
ées comme une chaine de caractères (le nom de la piste).
\end_layout

\begin_layout Standard

\shape italic
Remarque
\shape default
:
\end_layout

\begin_layout Standard
La taille des données est codée en VLQ.
\end_layout

\begin_layout Paragraph
MIDI événement
\end_layout

\begin_layout Standard
Un MIDI événement se compose de 2 parties : un type d'événement et les données.
 Le MIDI événement est toujours écrit sur 3 octets comme suit:
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Données
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 octet
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 octet
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1 octet
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{1}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{3}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{4}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{5}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{6}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Représentation d'un MIDI événement
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Les données s'interprètent différemment selon la valeur du type.
\end_layout

\begin_layout Standard
En effet, le type est composé de 2 nombres hexadécimaux H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{1}$
\end_layout

\end_inset

 et H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset

.
 H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{2}$
\end_layout

\end_inset

 représente le canal sur lequel l'événement à lieu (le canal étant un instrument
 par exemple).
 H
\begin_inset ERT
status open

\begin_layout Plain Layout

$_{1}$
\end_layout

\end_inset

 quant à lui, donne l'événement qui à lieu (une note est appuyée, une note
 est relâchée, etc...).
\end_layout

\begin_layout Standard
On peut trouver une liste des événements principaux sur 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.csie.ntu.edu.tw/~r92092/ref/midi/midi_channel_voice.html}
\end_layout

\end_inset

 et 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
url{https://www.csie.ntu.edu.tw/~r92092/ref/midi/midi_channel_mode.html}
\end_layout

\end_inset

 .
\end_layout

\begin_layout Standard
Voici le MIDI événement correspondant à 
\begin_inset Quotes fld
\end_inset

Note Off
\begin_inset Quotes frd
\end_inset

 c'est à dire que la touche en question est relâchée :
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Note off
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Canal MIDI
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Numéro de note
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Volume
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x8
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x0-15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x0-127
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x0-127
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple Note off
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Même chose pour 
\begin_inset Quotes fld
\end_inset

Note on
\begin_inset Quotes frd
\end_inset

 sauf que le codage hexadécimal est de 9.
\end_layout

\begin_layout Paragraph
Numéro de touches du piano
\end_layout

\begin_layout Standard
Il y a 88 touches au total sur un piano (36 noires et 52 blanches).
 Chacune de ces touches correspondent à une note différentes.
 Il y a donc 88 notes au total sur un piano classique.
 On définit une numérotation des touches telle que les touches noires possèdent
 les numéros 1 à 36 et les touches blanches sont notées de 37 à 88.
 Le sens de numérotation se fait des graves vers les aiguës :
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename MIDI images/numerotation.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Numérotation des touches du piano
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\shape italic
Exemple
\shape default
 :
\end_layout

\begin_layout Standard
Par exemple, le message "Appuyer sur le do milieu (60ème touche) avec un
 volume moyen sur l'instrument 0 (instrument par défaut)" sera :
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename MIDI images/exemple_noteOn.png
	lyxscale 50
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Exemple Note On
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
SysEx événement
\end_layout

\begin_layout Standard
Ces événements permettent de faire appel à des appareils extérieurs et dépendent
 donc de l'appareil sur lequel le fichier MIDI est lu .
 Par exemple, si un synthétiseur spécial est connecté à l'ordinateur alors
 un événement sysex peut lui être envoyé (d'où SysEx = System Exclusiv =
 événement réservé pour ce système exclusivement).
 Cependant, si ce même fichier MIDI est lu sur un ordinateur ne possédant
 pas ce synthétiseur spécial alors l'événement ne sert à rien.
 Ainsi, ce genre d'événement n'est pas utilisé sur des fichiers dont le
 but est d'être partagé sur internet par exemple.
 En effet, puisqu'on ne sait pas quel appareil sera relié à l'ordinateur
 de l'utilisateur on ne peut pas utiliser ces événements.
 C'est pourquoi 
\series bold
nous ne les utiliserons pas et nous n'en tiendrons pas compte si nous en
 rencontrons un dans nos fichiers.
\end_layout

\begin_layout Chapter
Keras
\end_layout

\begin_layout Section
Choix du langage de programmation 
\end_layout

\begin_layout Standard
Choix du langage de programmation Nous avons choisi d’utiliser le langage
 Python pour coder le réseau de neurones.
 En effet, Python est un langage qui possède de nombreux outils afin de
 simplifier la mise en œuvre d’applications mathématiques.
 Aussi, TensorFlow (Google), Theano, MXNet et CNTK (Microsoft) sont quatre
 bibliothèques très utilisées pour mettre en place des réseaux de neurones
 bien qu’il en existe d’autres.
 Ces bibliothèques ne sont pas spécialisées dans la création de réseaux
 de neurones mais proposent un plus large éventail d’applications concernant
 l’apprentissage automatique (« machine learning »).
 Par exemple Theano permet de manipuler et d’évaluer des expressions matricielle
s en utilisant la syntaxe de NumPy, une autre bibliothèque Python qui permet
 la manipulation de matrices (similaire à Matlab).
 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
De plus, les fonctions regroupées dans ces bibliothèques sont très optimisées
 et sont souvent compilées ce qui permet d’obtenir une vitesse d’exécution
 supérieure à l’utilisation du Python interprété.
 L’utilisation d’un GPU (Graphical Processing Unit / carte graphique) est
 aussi très facilitée grâce à ces programmes.
 Cela augmente aussi énormément la vitesse de calcul car ce type de processeur
 est spécialisé dans le calcul matriciel et parallèle contrairement au CPU
 (Central Processing Unit / processeur) qui est efficace en calcul séquentiel
 (un processeur possède une dizaine de cœurs logiques quand une carte graphique
 en possède plusieurs milliers).
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cependant, la non spécificité de ces bibliothèques peut conduire à des écritures
 lourdes pour construire un réseau de neurones alors que l’on n’utilise
 pas toutes les capacités offertes par la bibliothèque.
\end_layout

\begin_layout Standard
Ainsi, nous n’utiliserons pas directement ces bibliothèques mais implémenterons
 notre code à l’aide de Keras une bibliothèque Python qui agit comme une
 API (Application Program Interface) pour les bibliothèques précédemment
 citées.
 C’est-à-dire que Keras sert d’intermédiaire avec TensorFlow par exemple.
 Keras est une API de réseau de neurones de haut niveau : elle permet de
 programmer un réseau de neurone avec une syntaxe plus facilement appréhendable
 puisqu’elle est spécifiquement pensée pour ce type d’apprentissage automatique.
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash

\backslash

\end_layout

\end_inset


\end_layout

\begin_layout Standard
En utilisant Keras, un programme ne perd que très peu en vitesse d’exécution
 puisque ce sont les bibliothèques très optimisées qui vont être utilisées
 en arrière-plan.
\end_layout

\begin_layout Standard
Une seule bibliothèque à la fois peut être utilisée par Keras.
 Cependant, un programme écrit avec la syntaxe de Keras pourra être réutilisé
 après avoir changé de bibliothèque.
 Nous avons choisi d’utiliser Keras avec TensorFlow car étant tous deux
 développés par Google, leur couplage est facilité.
 En effet, TensorFlow a ajouté la prise en charge de Keras dans sa bibliothèque
 en 2017.
 
\end_layout

\begin_layout Section
Syntaxe Keras
\end_layout

\begin_layout Subsection
Création d'un modèle
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
lstset{inputencoding=utf8/latin1}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Un réseau de neurones est considéré comme un « model ».
 On instancie un modèle séquentiel puis on peut ajouter des couches selon
 nos besoins.
 Une couche où chaque nœud est connecté avec les suivant (graphe complet)
 est appelée « Dense ».
 Pour les utiliser il faut tout d’abord les inclure dans le programme avec
 la commande « import ».
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_import.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Standard
Pour créer une couche il faut donc instancier la classe Dense, son premier
 paramètre est le nombre de neurones et son deuxième le nombre de variables
 en entrées.
 Il est nécessaire de préciser le nombre de variable en entré de la première
 couche mais pas des suivantes : Keras le détermine directement.
\end_layout

\begin_layout Standard
On peut définir la dimension du vecteur en entrée avec input_shape ou input_dim
 et input_length.
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_dimension.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Standard
On définit aussi les fonctions d’activation pour chaque couche.
 Keras propose de nombreuses fonctions d’activation comme la sigmoid ou
 ReLu.
 On peut définir la fonction d’activation directement lors de l’instanciation
 de la couche (attribut de Dense) ou après.
 Il faut d’abord importer le module « Activation ».
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_activation.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Standard
Finalement, un modèle peut ressembler à :
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_modele.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Standard
Lorsque le modèle est terminé, il faut le compiler.
 C’est cette étape qui va faire appel à la bibliothèque en arrière-plan
 (TensorFlow dans notre cas).
\end_layout

\begin_layout Subsection
Finalisation du modèle
\end_layout

\begin_layout Standard
Lorsque le modèle est terminé, il faut le compiler.
 C’est cette étape qui va faire appel à la bibliothèque en arrière-plan
 (TensorFlow dans notre cas).
\end_layout

\begin_layout Standard
La compilation va déterminer la meilleure façon de représenter le réseau
 de neurone afin de l’entrainer.
 Pour cela, il faut préciser trois arguments : la fonction de coût à minimiser,
 la méthode d’optimisation chargée de trouver cette minimisation et une
 métrique.
\end_layout

\begin_layout Standard
La fonction de coût est sous la forme d’une fonction python prenant en paramètre
 deux arguments : y_true et y_pred.
 Le premier est le vecteur des valeurs attendues et le second représente
 les prédictions.
 Des fonctions très utilisées comme l’erreur quadratique moyenne sont directemen
t présentes dans Keras sous la forme d’alias (mse pour « Mean Squared Error
 » par exemple).
\end_layout

\begin_layout Standard
La méthode d’optimisation peut être implémentée par un alias présent dans
 Keras ou par une instance de la classe Optimizer.
 Les fonctions très utilisées comme la méthode du gradient sont donc présentes
 dans Keras.
 Une méthode de descente de gradient est implémentée par SGD (« Stochastique
 Gradient Descent ») c’est-à-dire l’algorithme du gradient stochastique.
\end_layout

\begin_layout Standard
Finalement une compilation de modèle se fait sous la forme suivante : 
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_compilation.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Subsection
Entraînement du réseau de neurones
\end_layout

\begin_layout Standard
Pour entrainer le modèle, on utilise la fonction fit.
 Elle prend plusieurs arguments : premièrement les données de test sous
 la forme d’un tableau utilisant la syntaxe de la bibliothèque Numpy.
 Ces données sont accompagnées de leur label en deuxième argument.
\end_layout

\begin_layout Standard
Le nombre d’itérations pour l’entrainement du modèle sur les données est
 géré par les attributs epochs et initial_epoch.
 Un « epoch » est défini comme une itération sur l’ensemble des données.
\end_layout

\begin_layout Standard
La mise à jour des poids peut être effectuée après avoir entrainé le modèle
 sur un certain nombre d’éléments (des musiques dans notre cas).
 Ce nombre peut être modifié par l’attribut batch_size (un « batch » étant
 un groupe d’éléments).
 Plus le nombre d’éléments pris en compte est grand, plus l’approximation
 sera bonne.
 Cependant, l’utilisation d’un nombre important d’éléments utilisera beaucoup
 plus de mémoire et allongera le temps de calcul.
 Un compromis doit donc être trouvé par l’expérience.
 
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_entrainement.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Subsection
Prévision
\end_layout

\begin_layout Standard
La prévision est effectuée en exécutant la méthode predict sur le modèle.
 Les données sont données en paramètre sous la forme d’un tableau suivant
 la syntaxe Numpy.
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_prevision.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Subsection
Sauvegarder le modèle
\end_layout

\begin_layout Standard
Afin de ne pas devoir effectuer l’entrainement du réseau lors de chaque
 démarrage du programme, il est possible de sauvegarder un modèle dans un
 fichier.
 Il est aussi possible de reprendre l’entrainement au point où la dernière
 exécution s’était arrêtée.
\end_layout

\begin_layout Standard
Ainsi, l’architecture du réseau, ses poids, sa configuration (fonction de
 coût, d’optimisation) et son dernier état d’avancement son sauvegardés
 dans le fichier.
\end_layout

\begin_layout Standard
On utilise la fonction suivante : 
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/exemple_sauvegarde-chargement.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Chapter
Les programmes
\end_layout

\begin_layout Section
creation_donnees.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/creation_donnees.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
analyse.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/analyse.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
main.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/main.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
prediction.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Keras/code/prediction.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
normalisation.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/normalisation.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
denormalisation.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/denormalisation.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\begin_layout Section
creation_fichierMIDI.py
\end_layout

\begin_layout Standard
\begin_inset CommandInset include
LatexCommand lstinputlisting
filename "Midi/code/creation_midi.py"
lstparams "language={Python},basicstyle={\\ttm},keywordstyle={\\color{deepblue}},commentstyle={\\color{deepgreen}},emphstyle={\\ttb\\color{deepred}},frame=trblTRBL,breaklines=true"

\end_inset


\end_layout

\end_body
\end_document
